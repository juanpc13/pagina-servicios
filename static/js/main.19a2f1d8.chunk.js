(this["webpackJsonpsoftware-servicios"]=this["webpackJsonpsoftware-servicios"]||[]).push([[0],{41:function(e,a,t){"use strict";var i=t(30),c=t(3),l=t(4),n=t(1),o=t(7),s=t(10),r=t(0);a.a=function(e){var a=Object(n.useState)(null),t=Object(l.a)(a,2),d=t[0],j=t[1];return Object(r.jsx)("div",{className:"GenericComplete",children:Object(r.jsx)(s.a,{onLoad:function(e){j(e)},onPlaceChanged:function(){if(null!==d){var a=d.getPlace(),t={alt:"10",idParada:-1*Math.floor(1e6*Math.random()),lat:a.geometry.location.lat(),lng:a.geometry.location.lng(),nombre:a.name,idPasajero:null,index:null,placeId:a.place_id,activo:!0};e.setServicio(Object(c.a)(Object(c.a)({},e.servicio),{},{paradaList:[].concat(Object(i.a)(e.servicio.paradaList),[t])})),void 0!==e.map&&null!==e.map&&e.map.panTo(a.geometry.location),void 0!==e.setUpdate&&e.setUpdate(!0)}else console.log("Autocomplete is not loaded yet!")},children:Object(r.jsx)(o.a,{id:"autocomplete-gm",type:"text",placeholder:"Ingresar Lugar"})})})}},42:function(e,a,t){"use strict";var i=t(3),c=(t(1),t(10)),l=t(0),n={lat:13.7762518,lng:-88.8805684};a.a=function(e){var a=function(e){var a=0,t=0;return e.routes.forEach((function(e){e.legs.forEach((function(e){a+=e.duration.value,t+=e.distance.value}))})),{distancia:t,tiempo:a}},t=function(){for(var a=e.servicio.paradaList,t=0;t<a.length;t++){var i=a[t];if(!0===i.activo)return i}return null},o=function(){for(var a=e.servicio.paradaList,t=a.length-1;t>=0;t--){var i=a[t];if(!0===i.activo)return i}return null},s=function(e){return{lat:parseFloat(e.lat),lng:parseFloat(e.lng)}};return Object(l.jsx)("div",{className:"GenericMap",children:Object(l.jsxs)(c.f,{mapContainerStyle:{width:"100%",height:e.height},center:n,zoom:8,onLoad:function(a){null!==a?e.setMap(a):console.log("mapInstance is not loaded yet!")},children:[void 0!==e.servicio&&null!==e.servicio&&void 0!==e.servicio.paradaList&&null!==e.servicio.paradaList&&e.servicio.paradaList.length>0&&e.servicio.paradaList.map((function(a){return!1===a.activo?null:Object(l.jsx)(c.h,{position:{lat:parseFloat(a.lat),lng:parseFloat(a.lng)},title:a.nombre,draggable:!0,onDragEnd:function(t){var c=e.servicio.paradaList.map((function(e){return e.idParada===a.idParada?Object(i.a)(Object(i.a)({},e),{},{placeId:null,lat:t.latLng.lat(),lng:t.latLng.lng()}):e}));e.setServicio(Object(i.a)(Object(i.a)({},e.servicio),{},{paradaList:c})),e.setUpdate(!0)}},a.idParada)})),void 0!==e.servicio&&null!==e.servicio&&void 0!==e.servicio.paradaList&&null!==e.servicio.paradaList&&e.servicio.paradaList.filter((function(e){return!0===e.activo})).length>=2&&void 0!==e.update&&!0===e.update&&Object(l.jsx)(c.d,{options:{origin:s(t()),destination:s(o()),travelMode:"DRIVING",waypoints:function(){var a=[],i=t(),c=o();return e.servicio.paradaList.forEach((function(e){e.idParada===i.idParada||e.idParada===c.idParada||!1===e.activo||a.push({location:e.lat+","+e.lng,stopover:!0})})),a}()},callback:function(t){if(null!==t)if("OK"===t.status){e.setUpdate(!1);var c=a(t),l=Object(i.a)(Object(i.a)({},e.servicio),{},{gmResponse:t},c);e.setServicio(l)}else console.log("response: ",t)}}),void 0!==e.servicio&&null!==e.servicio&&void 0!==e.servicio.paradaList&&null!==e.servicio.paradaList&&e.servicio.paradaList.filter((function(e){return!0===e.activo})).length>=2&&void 0!==e.servicio&&null!==e.servicio&&void 0!==e.servicio.gmResponse&&null!==e.servicio.gmResponse&&""!==e.servicio.gmResponse&&Object(l.jsx)(c.c,{options:{directions:e.servicio.gmResponse}}),void 0!==e.traffic&&!0===e.traffic&&Object(l.jsx)(c.i,{onLoad:function(e){}})]})})}},50:function(e,a,t){"use strict";t(1);var i=t(10),c=t(0),l={lat:13.7762518,lng:-88.8805684},n=[{lat:14.0296363,lng:-89.5372124},{lat:13.7220397,lng:-89.1518454}],o={strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35,clickable:!1,draggable:!1,editable:!1,visible:!0,radius:300,zIndex:1};a.a=function(e){return Object(c.jsxs)(i.f,{mapContainerStyle:{width:"100%",height:e.height},center:l,zoom:9,onLoad:function(e){null!==e||console.log("mapInstance is not loaded yet!")},children:[void 0!==e.servicio&&null!==e.servicio&&void 0!==e.servicio.gmResponse&&null!==e.servicio.gmResponse&&Object(c.jsx)(i.c,{options:{directions:e.servicio.gmResponse}}),void 0!==e.traffic&&!0===e.traffic&&Object(c.jsx)(i.i,{onLoad:function(e){}}),Object(c.jsx)(i.b,{center:n[0],options:o}),Object(c.jsx)(i.b,{center:n[1],options:o})]})}},59:function(e,a,t){"use strict";(function(e){var i=t(30),c=t(3),l=t(4),n=t(1),o=t(24),s=t(7),r=t(35),d=t(5),j=t(22),p=t(34),u=t(17),b=t(12),h=t(13),m=t(11),O=t(15),f=t(66),v=t(41),x=t(42),g=t(67),N=t(6),y=t(0);a.a=function(){var a=Object(n.useState)(null),t=Object(l.a)(a,2),C=t[0],S=t[1],w=Object(n.useState)(!1),T=Object(l.a)(w,2),k=T[0],F=T[1],E=Object(n.useRef)(null),P=Object(n.useState)(!1),M=Object(l.a)(P,2),I=M[0],U={dialog:M[1]},D=function(e){U["".concat(e)](!1)},R=Object(n.useState)([]),A=Object(l.a)(R,2),L=A[0],B=A[1];Object(n.useEffect)((function(){fetch(N.a.apiUrl+"/tiposervicio",{method:"GET",headers:{Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){return B(e)})).catch((function(e){return console.error("Error:",e)}))}),[]);var V=Object(n.useState)(!1),z=Object(l.a)(V,2),H=z[0],G=z[1],K=Object(n.useState)(!1),J=Object(l.a)(K,2),q=J[0],Z=J[1];Object(b.a)("es",{firstDayOfWeek:1,dayNames:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],dayNamesShort:["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],dayNamesMin:["D","L","M","X","J","V","S"],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],today:"Hoy",clear:"Claro"});var $=Object(n.useState)({activo:!0,capacidad:0,fechaInicio:null,fechaFinal:null,gmResponse:"",hotelTxt:"-",idCliente:null,idEstadoServicio:{idEstadoServicio:2},idServicio:null,idTipoServicio:null,idUsuario:null,idVehiculo:null,incapacitados:0,maletas:0,comentario:"",pagoTxt:"-",vueloTxt:"-",tiempo:0,distancia:0,paradaList:[]}),_=Object(l.a)($,2),W=_[0],X=_[1];Object(n.useEffect)((function(){fetch(N.a.apiUrl+"/info/minTime",{method:"GET",headers:{Accept:"text/plain"}}).then((function(e){return e.json()})).then((function(e){X(Object(c.a)(Object(c.a)({},W),{},{fechaInicio:new Date(e)}))}))}),[]);var Y,Q=Object(n.useState)(null),ee=Object(l.a)(Q,2),ae=ee[0],te=ee[1],ie=Object(n.useState)(null),ce=Object(l.a)(ie,2),le=ce[0],ne=ce[1],oe=Object(n.useState)(null),se=Object(l.a)(oe,2),re=se[0],de=se[1],je=function(a){if(Z(!0),setTimeout((function(){return Z(!1)}),5e3),null!==W.idServicio||null===W.idCliente||null===W.idEstadoServicio||null===W.idTipoServicio||null===W.idUsuario||null===W.idVehiculo||""===W.hotelTxt||""===W.vueloTxt||""===W.pagoTxt||null===W.fechaInicio||W.paradaList.length<2||0===W.tiempo||0===W.distancia||""===W.gmResponse)return t="Datos incompletos",i="Favor verificar",void E.current.show({severity:"warn",summary:t,detail:i,life:3e3});var t,i,l=Object(c.a)(Object(c.a)({},W),{},{fechaInicio:new Date(W.fechaInicio).toISOString(),gmResponse:e.from(JSON.stringify(W.gmResponse)).toString("base64"),paradaList:null});fetch(N.a.apiUrl+"/servicio",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(l)}).then((function(e){return e.json()})).then((function(e){if(void 0!==e.idServicio){var a=W.paradaList.map((function(a,t){return Object(c.a)(Object(c.a)({},a),{},{idParada:null,index:t,activo:!0,idServicio:{idServicio:e.idServicio}})}));fetch(N.a.apiUrl+"/parada",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(a){a.ok?(!function(e,a){E.current.show({severity:"success",summary:e,detail:a,life:3e3})}("Servicio Generado","Numero de Servicio: "+e.idServicio),D("dialog")):console.log("Error del servidor","Response not ok POST /parada")}))}else!function(e,a){E.current.show({severity:"error",summary:e,detail:a,life:3e3})}("Sin ID del Servicio","")}))},pe=function(e){return Object(y.jsxs)("div",{children:[e.nombres," ",e.apellidos]})};return Object(y.jsxs)("div",{className:"CrearServicio",children:[Object(y.jsx)(h.a,{ref:E}),Object(y.jsx)("h2",{style:{textAlign:"center"},children:"Generar Servicio"}),Object(y.jsxs)("div",{className:"p-grid p-nogutter",children:[Object(y.jsx)("div",{className:"p-col-12 p-md-3",children:Object(y.jsx)("div",{className:"p-mx-3",children:Object(y.jsxs)("div",{className:"p-fluid p-grid p-formgrid",children:[Object(y.jsx)("div",{className:"p-field p-col-12 p-md-12",children:Object(y.jsx)("label",{htmlFor:"info",children:"Detalles del servicio"})}),Object(y.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(y.jsx)("label",{htmlFor:"cliente",children:"Cliente"}),Object(y.jsx)(r.a,{id:"cliente",value:W.idCliente,suggestions:ae,completeMethod:function(e){setTimeout((function(){fetch(N.a.apiUrl+"/cliente/findByFullName",{method:"POST",headers:{Accept:"application/json","Content-Type":"text/plain"},body:e.query}).then((function(e){return e.json()})).then((function(e){te(e)})).catch((function(e){return console.error("Error:",e)}))}),250)},field:"fullName",dropdown:!0,forceSelection:!0,itemTemplate:pe,onChange:function(e){null!==e.value&&"object"===typeof e.value&&G(2===e.value.idTipoCliente.idTipoCliente),X(Object(c.a)(Object(c.a)({},W),{},{idCliente:e.value,paradaList:[]}))},placeholder:"Nombre de empresa o personal",autoComplete:"off"})]}),Object(y.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(y.jsx)("label",{htmlFor:"idTipoServicio",children:"Tipo de Servicio"}),Object(y.jsx)(u.a,{value:W.idTipoServicio,options:L,onChange:function(e){if(void 0!==e.value)if(1===e.value.idTipoServicio){var a={alt:"10",idParada:-1*((new Date).valueOf()-1630716978507),lat:13.4447038,lng:-89.0570087,nombre:"Aeropuerto Internacional de El Salvador",idPasajero:null,index:null,placeId:"ChIJl2CKWyO3fI8Rhn66Myj4iYY",activo:!0};C.panTo(a),X(Object(c.a)(Object(c.a)({},W),{},{idTipoServicio:e.value,paradaList:[].concat(Object(i.a)(W.paradaList),[a])})),F(!0)}else X(Object(c.a)(Object(c.a)({},W),{},{idTipoServicio:e.value}));else X(Object(c.a)(Object(c.a)({},W),{},{idTipoServicio:null}))},optionLabel:"nombre",filter:!0,showClear:!0,filterBy:"nombre",placeholder:"Seleccionar tipo de servicio",emptyMessage:"Sin entidades identificas",emptyFilterMessage:"Sin resultados"})]}),Object(y.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(y.jsx)("label",{htmlFor:"motorista",children:"Motorista"}),Object(y.jsx)(r.a,{id:"motorista",value:W.idUsuario,suggestions:le,completeMethod:function(e){setTimeout((function(){fetch(N.a.apiUrl+"/usuario/motorista/findByFullName",{method:"POST",headers:{Accept:"application/json","Content-Type":"text/plain"},body:e.query}).then((function(e){return e.json()})).then((function(e){ne(e)})).catch((function(e){return console.error("Error:",e)}))}),250)},field:"fullName",dropdown:!0,forceSelection:!0,itemTemplate:pe,onChange:function(e){return X(Object(c.a)(Object(c.a)({},W),{},{idUsuario:e.value}))},placeholder:"Nombre del usuario motorista",autoComplete:"off"})]}),Object(y.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(y.jsx)("label",{htmlFor:"fechaInicio",children:"Iniciar Servicio"}),Object(y.jsx)(p.a,{value:W.fechaInicio,showTime:!0,hourFormat:"12",onChange:function(e){return X(Object(c.a)(Object(c.a)({},W),{},{fechaInicio:e.value}))},locale:"es",dateFormat:"dd/mm/yy",showIcon:!0,placeholder:"Ej: 31/12/2020 12:00 PM",minDate:new Date})]}),Object(y.jsx)(o.a,{}),Object(y.jsx)("div",{className:"p-field p-col-12 p-md-12",children:Object(y.jsx)("label",{htmlFor:"detalles",children:"Detalles del Vehiculo"})}),Object(y.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(y.jsx)("label",{htmlFor:"capacidad",children:"Capacidad"}),Object(y.jsx)(j.a,{id:"capacidad",value:W.capacidad,onValueChange:function(e){return X(Object(c.a)(Object(c.a)({},W),{},{capacidad:e.value}))},mode:"decimal",showButtons:!0,buttonLayout:"horizontal",min:0,decrementButtonClassName:"p-button-secondary",incrementButtonClassName:"p-button-secondary",incrementButtonIcon:"pi pi-plus",decrementButtonIcon:"pi pi-minus"})]}),Object(y.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(y.jsx)("label",{htmlFor:"maletas",children:"Maletas"}),Object(y.jsx)(j.a,{id:"maletas",value:W.maletas,onValueChange:function(e){return X(Object(c.a)(Object(c.a)({},W),{},{maletas:e.value}))},mode:"decimal",showButtons:!0,buttonLayout:"horizontal",min:0,decrementButtonClassName:"p-button-secondary",incrementButtonClassName:"p-button-secondary",incrementButtonIcon:"pi pi-plus",decrementButtonIcon:"pi pi-minus"})]}),Object(y.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(y.jsx)("label",{htmlFor:"incapacitados",children:"Incapacitados"}),Object(y.jsx)(j.a,{id:"incapacitados",value:W.incapacitados,onValueChange:function(e){return X(Object(c.a)(Object(c.a)({},W),{},{incapacitados:e.value}))},mode:"decimal",showButtons:!0,buttonLayout:"horizontal",min:0,decrementButtonClassName:"p-button-secondary",incrementButtonClassName:"p-button-secondary",incrementButtonIcon:"pi pi-plus",decrementButtonIcon:"pi pi-minus"})]}),Object(y.jsx)("div",{className:"p-field p-col-12 p-md-6"}),Object(y.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(y.jsx)("label",{htmlFor:"idVehiculo",children:"Vehiculos disponible"}),Object(y.jsx)(r.a,{id:"idVehiculo",value:W.idVehiculo,suggestions:re,completeMethod:function(e){setTimeout((function(){fetch(N.a.apiUrl+"/vehiculo/findByTxt",{method:"POST",headers:{Accept:"application/json","Content-Type":"text/plain"},body:e.query}).then((function(e){return e.json()})).then((function(e){de(e)})).catch((function(e){return console.error("Error:",e)}))}),250)},field:"fullName",dropdown:!0,forceSelection:!0,itemTemplate:function(e){return Object(y.jsxs)("div",{children:[e.marca," ",e.modelo," - Capa ",e.capacidad," - Male ",e.maletas," - Inca ",e.incapacitados]})},onChange:function(e){return X(Object(c.a)(Object(c.a)({},W),{},{idVehiculo:e.value}))},placeholder:"Vehiculo a asignar",autoComplete:"off"})]}),Object(y.jsx)(o.a,{})]})})}),Object(y.jsxs)("div",{className:"p-col-12 p-md-6",children:[Object(y.jsx)(x.a,{map:C,setMap:S,servicio:W,setServicio:X,update:k,setUpdate:F,traffic:!0,height:"80vh"}),Object(y.jsx)(o.a,{})]}),Object(y.jsx)("div",{className:"p-col-12 p-md-3",children:Object(y.jsxs)("div",{className:"p-mx-3",style:{height:"100%"},children:[Object(y.jsx)("div",{className:"p-fluid p-grid p-formgrid",children:Object(y.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(y.jsx)("label",{htmlFor:"autocomplete-gm",children:"Agregar destinos o paradas"}),Object(y.jsx)(v.a,{map:C,servicio:W,setServicio:X,setUpdate:F}),Object(y.jsx)(o.a,{})]})}),Object(y.jsx)(f.a,{map:C,servicio:W,setServicio:X,setUpdate:F}),Object(y.jsx)(o.a,{}),Object(y.jsxs)("div",{className:"p-fluid p-grid p-formgrid",children:[Object(y.jsx)("div",{className:"p-field p-col-12 p-md-6",children:Object(y.jsx)("label",{htmlFor:"info",children:"Detalles del viaje:"})}),Object(y.jsx)("div",{className:"p-field p-col-12 p-md-6",children:Object(y.jsx)("label",{htmlFor:"info",children:Math.ceil(W.tiempo/60)+" minutos"})}),Object(y.jsx)("div",{className:"p-field p-col-12 p-md-6"}),Object(y.jsx)("div",{className:"p-field p-col-12 p-md-6",children:Object(y.jsx)("label",{htmlFor:"info",children:(W.distancia/1e3).toFixed(2)+" km"})})]}),Object(y.jsx)(o.a,{}),Object(y.jsxs)("div",{style:{display:H?"block":"none"},children:[Object(y.jsx)("label",{htmlFor:"pasajero",children:"Pasajeros"}),Object(y.jsx)(g.a,{map:C,servicio:W,setServicio:X,setUpdate:F}),Object(y.jsx)(o.a,{})]}),Object(y.jsx)("div",{style:{display:H?"none":"block"},children:Object(y.jsxs)("div",{className:"p-fluid p-grid p-formgrid",children:[Object(y.jsx)("div",{className:"p-field p-col-12 p-md-12",children:Object(y.jsx)("label",{htmlFor:"info",children:"Detalles adicionales"})}),Object(y.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(y.jsx)("label",{htmlFor:"vueloTxt",children:"Vuelo"}),Object(y.jsx)(s.a,{id:"vueloTxt",type:"text",keyfilter:/^[a-zA-Z0-9- ]+$/,placeholder:"Datos del vuelo",value:W.vueloTxt,onChange:function(e){return X(Object(c.a)(Object(c.a)({},W),{},{vueloTxt:e.target.value}))},autoComplete:"off"})]}),Object(y.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(y.jsx)("label",{htmlFor:"hotelTxt",children:"Hotel"}),Object(y.jsx)(s.a,{id:"hotelTxt",type:"text",keyfilter:/^[a-zA-Z0-9- ]+$/,placeholder:"Datos del hotel",value:W.hotelTxt,onChange:function(e){return X(Object(c.a)(Object(c.a)({},W),{},{hotelTxt:e.target.value}))},autoComplete:"off"})]}),Object(y.jsx)(o.a,{})]})}),Object(y.jsx)(d.a,{label:"Anexar pago del servicio",disabled:q,icon:"pi pi-credit-card",style:{width:"100%"},className:"p-button-warning",onClick:function(){U["".concat("dialog")](!0)}})]})})]}),Object(y.jsx)(m.a,{header:"Detallar Pago",visible:I,onHide:function(){return D("dialog")},footer:(Y="dialog",Object(y.jsxs)("div",{children:[Object(y.jsx)(d.a,{label:"Cancelar",icon:"pi pi-times",onClick:function(){return D(Y)},className:"p-button-text"}),Object(y.jsx)(d.a,{label:"Generar Servicio",disabled:q,icon:"pi pi-check",onClick:je,autoFocus:!0})]})),breakpoints:{"960px":"75vw","640px":"100vw"},style:{width:"60vw"},children:Object(y.jsx)("div",{className:"p-fluid p-formgrid p-grid",children:Object(y.jsx)("div",{className:"p-field p-col-12",children:Object(y.jsx)(O.a,{id:"pagoTxt",type:"text",rows:"5",placeholder:"Descripcion de pago en Efectivo o Wompi(Se enviara detalle al correo electronico)",value:W.pagoTxt,onChange:function(e){return X(Object(c.a)(Object(c.a)({},W),{},{pagoTxt:e.target.value}))}})})})})]})}}).call(this,t(46).Buffer)},6:function(e,a,t){"use strict";a.a={apiUrl:"http://jcpleitez.ddns.net:8080/ServiciosRest/ws"}},60:function(e,a,t){"use strict";var i=t(4),c=t(1),l=t(7),n=t(10),o=t(0);a.a=function(e){var a=Object(c.useState)([]),t=Object(i.a)(a,2),s=t[0],r=t[1];return Object(o.jsx)("div",{className:"Complete",children:Object(o.jsx)(n.a,{onLoad:function(e){r(e)},onPlaceChanged:function(){null!==s?e.addParada(s.getPlace()):console.log("Autocomplete is not loaded yet!")},children:Object(o.jsx)(l.a,{type:"text",placeholder:"Ingresar Lugar"})})})}},66:function(e,a,t){"use strict";var i=t(3),c=(t(1),t(5)),l=t(40),n=t(0);a.a=function(e){return Object(n.jsx)(l.a,{dragdrop:!0,header:"Paradas",value:e.servicio.paradaList,itemTemplate:function(a){var t=e.servicio.paradaList.indexOf(a),l=String.fromCharCode(65+t);return Object(n.jsxs)("div",{className:"p-grid p-align-center",onClick:function(){e.map.panTo(a)},children:[Object(n.jsx)("div",{className:"p-col-9",children:Object(n.jsxs)("span",{children:[l," - ",a.nombre]})}),Object(n.jsx)("div",{className:"p-col-3",children:Object(n.jsx)(c.a,{icon:"pi pi-times",className:"p-button-rounded p-button-danger",onClick:function(){e.setServicio(Object(i.a)(Object(i.a)({},e.servicio),{},{paradaList:e.servicio.paradaList.filter((function(e){return e.idParada!==a.idParada}))})),e.setUpdate(!0)}})})]})},onChange:function(a){e.setServicio(Object(i.a)(Object(i.a)({},e.servicio),{},{paradaList:a.value})),e.setUpdate(!0)}})}},67:function(e,a,t){"use strict";var i=t(30),c=t(3),l=t(4),n=t(1),o=t(35),s=t(6),r=t(0);a.a=function(e){var a=Object(n.useState)(null),t=Object(l.a)(a,2),d=t[0],j=t[1],p=Object(n.useState)(null),u=Object(l.a)(p,2),b=u[0],h=u[1];return Object(r.jsx)(o.a,{id:"pasajero",value:d,style:{width:"100%"},suggestions:b,completeMethod:function(a){setTimeout((function(){fetch(s.a.apiUrl+"/pasajero/cliente/"+e.servicio.idCliente.idCliente+"/fullName",{method:"POST",headers:{Accept:"application/json","Content-Type":"text/plain"},body:a.query}).then((function(e){return e.json()})).then((function(e){h(e)}))}),250)},field:"nombres",dropdown:!0,forceSelection:!0,itemTemplate:function(e){return Object(r.jsxs)("div",{children:[e.nombres," ",e.apellidos]})},onChange:function(a){if(null!==a.value&&"object"===typeof a.value){var t={alt:"10",idParada:-1*((new Date).valueOf()-1630716978507),lat:Number(a.value.lat),lng:Number(a.value.lng),nombre:a.value.codigo+" "+a.value.nombres+" "+a.value.apellidos,idPasajero:a.value,index:null,activo:!0,placeId:null};e.setServicio(Object(c.a)(Object(c.a)({},e.servicio),{},{paradaList:[].concat(Object(i.a)(e.servicio.paradaList),[t])})),j(null),e.setUpdate(!0)}else j(a.value)},placeholder:"Codigo o Nombre del pasajero",autoComplete:"off"})}},69:function(e,a,t){"use strict";(function(e){var i=t(30),c=t(3),l=t(4),n=t(1),o=t.n(n),s=t(19),r=t(8),d=t(5),j=t(27),p=t(11),u=t(40),b=t(41),h=t(42),m=t(50),O=t(6),f=t(0);a.a=function(){var a=Object(n.useState)(null),t=Object(l.a)(a,2),v=t[0],x=t[1],g=Object(n.useState)(!1),N=Object(l.a)(g,2),y=N[0],C=N[1],S=Object(n.useState)([]),w=Object(l.a)(S,2),T=w[0],k=w[1],F=Object(n.useState)(null),E=Object(l.a)(F,2),P=E[0],M=E[1],I=Object(n.useState)(null),U=Object(l.a)(I,2),D=U[0],R=U[1],A=Object(n.useState)(!1),L=Object(l.a)(A,2),B=L[0],V=L[1];Object(n.useEffect)((function(){z()}),[]);var z=function(){M(null),fetch(O.a.apiUrl+"/servicio/enCurso",{method:"GET",headers:{Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){Array.isArray(e)?(e.forEach((function(e){e.fechaInicio=new Date(e.fechaInicio.slice(0,-5));try{e.gmResponse=JSON.parse(atob(e.gmResponse))}catch(a){console.log("Servicio ID: "+e.idServicio+". Direcciones de Google Maps no convertibles, se tiene que editar alguna parada para auto generarla nuevamente y guardarse"),e.gmResponse=null}})),k(e)):console.log("respuesta json no es array")}))},H=function(){var a=0,t=Object(i.a)(D.paradaList);t.forEach((function(e){!0===e.activo?(e.index=a,a+=1):e.index=null,e.idServicio={idServicio:D.idServicio}})),fetch(O.a.apiUrl+"/parada",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(a){if(a.ok){var i=t.filter((function(e){return!0===e.activo})).length,l=Object(c.a)(Object(c.a)({},D),{},{paradaList:null,fechaInicio:D.fechaInicio.toISOString(),gmResponse:i>=2?e.from(JSON.stringify(D.gmResponse)).toString("base64"):"bnVsbA=="});fetch(O.a.apiUrl+"/servicio/"+D.idServicio,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then((function(e){e.ok?(z(),Q("paradasDialog")):console.log("Respuesta de red OK pero respuesta HTTP no OK")}))}else console.log("Respuesta de red OK pero respuesta HTTP no OK")}))},G=Object(n.useState)(!1),K=Object(l.a)(G,2),J=K[0],q=K[1],Z=Object(n.useState)(!1),$=Object(l.a)(Z,2),_=$[0],W=function(e){return Object(f.jsxs)("div",{children:[Object(f.jsx)(d.a,{label:"Cerrar",icon:"pi pi-times",onClick:function(){return Q(e)},className:"p-button-text"}),"paradasDialog"===e&&Object(f.jsx)(d.a,{label:"Guardar Paradas",icon:"pi pi-check",onClick:H})]})},X={detalleDialog:q,paradasDialog:$[1]},Y=function(e){X["".concat(e)](!0)},Q=function(e){X["".concat(e)](!1)},ee=Object(f.jsxs)("div",{className:"table-header p-d-flex",children:[Object(f.jsx)("div",{className:"p-mr-2",children:Object(f.jsx)(d.a,{disabled:null===P,icon:"pi pi-map",className:"p-button-success",onClick:function(){fetch(O.a.apiUrl+"/parada/"+P.idServicio,{method:"GET",headers:{Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){R(Object(c.a)(Object(c.a)({},P),{},{paradaList:e})),Y("paradasDialog")}))},tooltip:"Paradas",tooltipOptions:{position:"top"}})}),Object(f.jsx)("div",{className:"p-mr-2",children:Object(f.jsx)(d.a,{disabled:null===P,icon:"pi pi-trash",className:"p-button-danger",onClick:function(){return V(!0)},tooltip:"Eliminar",tooltipOptions:{position:"top"}})}),Object(f.jsx)("div",{className:"p-ml-auto",children:Object(f.jsx)(d.a,{label:"Finalizar Servicio",disabled:null===P,icon:"pi pi-check",className:"p-button-secondary",onClick:function(){var a=Object(c.a)(Object(c.a)({},P),{},{paradaList:null,fechaInicio:P.fechaInicio.toISOString(),fechaFinal:(new Date).toISOString(),gmResponse:e.from(JSON.stringify(P.gmResponse)).toString("base64"),idEstadoServicio:{idEstadoServicio:5}});console.log(a),fetch(O.a.apiUrl+"/servicio/"+a.idServicio,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){e.ok?z():console.log("Respuesta de red OK pero respuesta HTTP no OK")}))}})})]});return Object(f.jsxs)("div",{className:"ServiciosEnCurso",children:[Object(f.jsx)("h2",{style:{textAlign:"center"},children:"Servicios Activos"}),Object(f.jsxs)("div",{className:"p-grid p-nogutter",children:[Object(f.jsx)("div",{className:"p-col-12 p-md-6",children:Object(f.jsxs)("div",{className:"p-mx-3",children:[Object(f.jsx)("h3",{children:"Servicios en curso"}),Object(f.jsxs)(s.a,{value:T,selectionMode:"single",selection:P,resizableColumns:!0,onSelectionChange:function(e){M(e.value)},dataKey:"idServicio",scrollable:!0,scrollHeight:"70vh",emptyMessage:"Sin servicios encontrados",showGridlines:!0,paginator:!0,rows:10,header:ee,children:[Object(f.jsx)(r.a,{field:"idServicio",header:"Servicio",style:{width:"25%"},filter:!0,filterPlaceholder:"Buscar ID"}),Object(f.jsx)(r.a,{field:"idCliente",header:"Cliente",body:function(e){return Object(f.jsxs)(o.a.Fragment,{children:[Object(f.jsx)("span",{className:"p-column-title"}),e.idCliente.nombres," ",e.idCliente.apellidos]})},filter:!0,filterPlaceholder:"Buscar Cliente"}),Object(f.jsx)(r.a,{field:"idTipoServicio",header:"Tipo Servicio",body:function(e){return Object(f.jsxs)(o.a.Fragment,{children:[Object(f.jsx)("span",{className:"p-column-title"}),e.idTipoServicio.nombre]})},filter:!0,filterPlaceholder:"Buscar Tipo Servicio"}),Object(f.jsx)(r.a,{body:function(e){return Object(f.jsx)(o.a.Fragment,{children:Object(f.jsx)(d.a,{icon:"pi pi-exclamation-circle",className:"p-button-rounded p-button-warning",onClick:function(){Y("detalleDialog"),M(e)}})})},style:{width:"15%"}})]})]})}),Object(f.jsx)("div",{className:"p-col-12 p-md-6",children:Object(f.jsxs)("div",{className:"p-mx-3",children:[Object(f.jsx)("h3",{children:"Mapa del trayecto"}),Object(f.jsx)(m.a,{servicio:P,traffic:!0,height:"70vh"})]})})]}),Object(f.jsx)(p.a,{header:"Detalles del Servicio",visible:J,onHide:function(){return Q("detalleDialog")},footer:W("detalleDialog"),breakpoints:{"960px":"75vw","640px":"100vw"},style:{width:"60vw"},children:null!==P&&Object(f.jsxs)("div",{className:"p-fluid p-formgrid p-grid",children:[Object(f.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(f.jsx)("label",{className:"p-col-4",children:"ID Servicio:"}),Object(f.jsx)("label",{className:"p-col-8",children:P.idServicio})]}),Object(f.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(f.jsx)("label",{className:"p-col-4",children:"Cliente:"}),Object(f.jsx)("label",{className:"p-col-8",children:P.idCliente.nombres+" "+P.idCliente.apellidos})]}),Object(f.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(f.jsx)("label",{className:"p-col-4",children:"Tipo de Servicio:"}),Object(f.jsx)("label",{className:"p-col-8",children:P.idTipoServicio.nombre})]}),Object(f.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(f.jsx)("label",{className:"p-col-4",children:"Motorista:"}),Object(f.jsx)("label",{className:"p-col-8",children:P.idUsuario.nombres+" "+P.idUsuario.apellidos})]}),Object(f.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(f.jsx)("label",{className:"p-col-4",children:"Vehiculo(Placa):"}),Object(f.jsx)("label",{className:"p-col-8",children:P.idVehiculo.placa})]}),Object(f.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(f.jsx)("label",{className:"p-col-4",children:"Capacidad:"}),Object(f.jsx)("label",{className:"p-col-8",children:P.capacidad})]}),Object(f.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(f.jsx)("label",{className:"p-col-4",children:"Maletas:"}),Object(f.jsx)("label",{className:"p-col-8",children:P.maletas})]}),Object(f.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(f.jsx)("label",{className:"p-col-4",children:"Incapacitados:"}),Object(f.jsx)("label",{className:"p-col-8",children:P.incapacitados})]}),Object(f.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(f.jsx)("label",{className:"p-col-4",children:"Vuelo:"}),Object(f.jsx)("label",{className:"p-col-8",children:P.vueloTxt})]}),Object(f.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(f.jsx)("label",{className:"p-col-4",children:"Hotel:"}),Object(f.jsx)("label",{className:"p-col-8",children:P.hotelTxt})]}),Object(f.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(f.jsx)("label",{className:"p-col-4",children:"Inicio:"}),Object(f.jsx)("label",{className:"p-col-8",children:P.fechaInicio.toLocaleString("es-US")})]}),Object(f.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(f.jsx)("label",{className:"p-col-4",children:"Tiempo Calculado:"}),Object(f.jsx)("label",{className:"p-col-8",children:Math.ceil(P.tiempo/60)+" minutos"})]}),Object(f.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(f.jsx)("label",{className:"p-col-4",children:"Distancia Calculada:"}),Object(f.jsx)("label",{className:"p-col-8",children:Math.ceil(P.distancia/1e3)+" km"})]}),Object(f.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(f.jsx)("label",{className:"p-col-4",children:"Detalles del Pago:"}),Object(f.jsx)("label",{className:"p-col-8",children:P.pagoTxt})]}),Object(f.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(f.jsx)("label",{className:"p-col-4",children:"Comentarios del cliente:"}),Object(f.jsx)("label",{className:"p-col-8",children:P.comentario})]})]})}),Object(f.jsx)(p.a,{header:"Paradas del Servicio",visible:_,onHide:function(){return Q("paradasDialog")},footer:W("paradasDialog"),breakpoints:{"960px":"80vw","640px":"100vw"},style:{width:"80vw"},children:null!==D&&Object(f.jsxs)("div",{className:"p-grid p-nogutter",children:[Object(f.jsx)("div",{className:"p-col-12 p-md-6",children:Object(f.jsxs)("div",{className:"p-mx-2",children:[Object(f.jsxs)("div",{className:"p-fluid p-formgrid p-grid",children:[Object(f.jsx)("div",{className:"p-field p-col-12 p-md-12",children:Object(f.jsx)("label",{children:"Ingresar lugares o paradas:"})}),Object(f.jsx)("div",{className:"p-field p-col-12 p-md-12",children:Object(f.jsx)(b.a,{map:v,servicio:D,setServicio:R,setUpdate:C})})]}),Object(f.jsx)(u.a,{value:D.paradaList,dragdrop:!0,itemTemplate:function(e){if(!1===e.activo)return null;var a=D.paradaList.filter((function(e){return!0===e.activo})).indexOf(e),t=String.fromCharCode(65+a);return Object(f.jsxs)("div",{className:"p-grid p-align-center",onClick:function(){null!==v&&v.panTo(Object(c.a)(Object(c.a)({},e),{},{lat:parseFloat(e.lat),lng:parseFloat(e.lng)}))},children:[Object(f.jsx)("div",{className:"p-col-9",children:Object(f.jsxs)("span",{children:[t," - ",e.nombre]})}),Object(f.jsx)("div",{className:"p-col-3",children:Object(f.jsx)(d.a,{icon:"pi pi-times",className:"p-button-rounded p-button-danger",onClick:function(){var a=D.paradaList.map((function(a){return a.idParada===e.idParada?Object(c.a)(Object(c.a)({},a),{},{activo:!1}):a}));R(Object(c.a)(Object(c.a)({},D),{},{paradaList:a})),C(!0)}})})]})},header:"Paradas",onChange:function(e){R(Object(c.a)(Object(c.a)({},D),{},{paradaList:e.value})),C(!0)}}),Object(f.jsx)("div",{className:"p-grid p-justify-between",children:Object(f.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(f.jsx)("label",{className:"p-col-4",children:"Tiempo Calculado:"}),Object(f.jsx)("label",{className:"p-col-8",children:Math.ceil(D.tiempo/60)+" minutos"}),Object(f.jsx)("label",{className:"p-col-4",children:"Distancia Calculada:"}),Object(f.jsx)("label",{className:"p-col-8",children:Math.ceil(D.distancia/1e3)+" km"}),Object(f.jsx)(d.a,{icon:"pi pi-clone",iconPos:"right",label:"Clonar punto A al final",tooltip:"Retorno",onClick:function(){var e=D;if(void 0!==e&&null!==e)if(void 0!==e.paradaList&&null!==e.paradaList&&Array.isArray(e.paradaList))if(void 0!==e.paradaList[0]){var a=Object(c.a)(Object(c.a)({},e.paradaList[0]),{},{idParada:-1*Math.floor(1e6*Math.random())});e.paradaList.push(a),R(Object(c.a)({},e)),C(!0)}else console.log("No tiene posicion para clonar");else console.log("Array de parada no definido o no es un array");else console.log("Sin servicio seleccionado")}})]})})]})}),Object(f.jsx)("div",{className:"p-col-12 p-md-6",children:Object(f.jsx)(h.a,{map:v,setMap:x,servicio:D,setServicio:R,update:y,setUpdate:C,traffic:!0,height:"50vh"})})]})}),Object(f.jsx)(j.a,{visible:B,onHide:function(){return V(!1)},message:"Favor aceptar para eliminar servicio",header:"Confirmaci\xf3n",icon:"pi pi-exclamation-triangle",accept:function(){fetch(O.a.apiUrl+"/servicio/"+P.idServicio,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){e.ok?(V(!1),z()):console.log("Respuesta de red OK pero respuesta HTTP no OK")})).catch((function(e){return console.error("Error:",e)}))},breakpoints:{"960px":"75vw","640px":"100vw"},style:{width:"50vw"},acceptLabel:"Si"})]})}}).call(this,t(46).Buffer)},70:function(e,a,t){"use strict";(function(e){var i=t(30),c=t(3),l=t(4),n=t(1),o=t.n(n),s=t(19),r=t(8),d=t(5),j=t(27),p=t(11),u=t(40),b=t(22),h=t(34),m=t(12),O=t(35),f=t(7),v=t(15),x=t(41),g=t(42),N=t(50),y=t(6),C=t(0);a.a=function(){Object(m.a)("es",{firstDayOfWeek:1,dayNames:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],dayNamesShort:["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],dayNamesMin:["D","L","M","X","J","V","S"],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],today:"Hoy",clear:"Claro"});var a=Object(n.useState)(null),t=Object(l.a)(a,2),S=t[0],w=t[1],T=Object(n.useState)(!1),k=Object(l.a)(T,2),F=k[0],E=k[1],P=Object(n.useState)([]),M=Object(l.a)(P,2),I=M[0],U=M[1],D=Object(n.useState)(null),R=Object(l.a)(D,2),A=R[0],L=R[1],B=Object(n.useState)(null),V=Object(l.a)(B,2),z=V[0],H=V[1],G=Object(n.useState)(!1),K=Object(l.a)(G,2),J=K[0],q=K[1];Object(n.useEffect)((function(){Z()}),[]);var Z=function(){L(null),fetch(y.a.apiUrl+"/servicio/enEspera",{method:"GET",headers:{Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){Array.isArray(e)?(e.forEach((function(e){e.fechaInicio=new Date(e.fechaInicio.slice(0,-5));try{e.gmResponse=JSON.parse(atob(e.gmResponse))}catch(a){console.log("Servicio ID: "+e.idServicio+". Direcciones de Google Maps no convertibles, se tiene que editar alguna parada para auto generarla nuevamente y guardarse"),e.gmResponse=null}})),U(e)):console.log("respuesta json no es array")}))},$=function(a){if(void 0!==z.idUsuario&&void 0!==z.idVehiculo){var t=Object(c.a)(Object(c.a)({},z),{},{paradaList:null,fechaInicio:z.fechaInicio.toISOString(),gmResponse:e.from(JSON.stringify(z.gmResponse)).toString("base64")});console.log(t),fetch(y.a.apiUrl+"/servicio/"+t.idServicio,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){e.ok?(Z(),void 0!==a&&!0===a&&fetch(y.a.apiUrl+"/info/sendMail/"+t.idServicio,{method:"GET"})):console.log("Respuesta de red OK pero respuesta HTTP no OK")})),je("editarDialog")}else alert("SIN MOTORISTA O VEHICULO ASIGNADO")},_=function(){var a=0,t=Object(i.a)(z.paradaList);t.forEach((function(e){!0===e.activo?(e.index=a,a+=1):e.index=null,e.idServicio={idServicio:z.idServicio}})),fetch(y.a.apiUrl+"/parada",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(a){if(a.ok){var i=t.filter((function(e){return!0===e.activo})).length,l=Object(c.a)(Object(c.a)({},z),{},{paradaList:null,fechaInicio:z.fechaInicio.toISOString(),gmResponse:i>=2?e.from(JSON.stringify(z.gmResponse)).toString("base64"):"bnVsbA=="});fetch(y.a.apiUrl+"/servicio/"+z.idServicio,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then((function(e){e.ok?(Z(),je("paradasDialog")):console.log("Respuesta de red OK pero respuesta HTTP no OK")}))}else console.log("Respuesta de red OK pero respuesta HTTP no OK")}))},W=function(){$(!0)},X=Object(n.useState)(!1),Y=Object(l.a)(X,2),Q=Y[0],ee=Y[1],ae=Object(n.useState)(!1),te=Object(l.a)(ae,2),ie=te[0],ce=te[1],le=Object(n.useState)(!1),ne=Object(l.a)(le,2),oe=ne[0],se=function(e){return Object(C.jsxs)("div",{children:[Object(C.jsx)(d.a,{label:"Cerrar",icon:"pi pi-times",onClick:function(){return je(e)},className:"p-button-text"}),"paradasDialog"===e&&Object(C.jsx)(d.a,{label:"Guardar Paradas",icon:"pi pi-check",onClick:_}),"editarDialog"===e&&Object(C.jsx)(d.a,{label:"Editar y enviar correo",icon:"pi pi-envelope",className:"p-button-danger",onClick:W}),"editarDialog"===e&&Object(C.jsx)(d.a,{label:"Editar Servicio",icon:"pi pi-check",onClick:$})]})},re={detalleDialog:ee,paradasDialog:ce,editarDialog:ne[1]},de=function(e){re["".concat(e)](!0)},je=function(e){re["".concat(e)](!1)},pe=Object(C.jsxs)("div",{className:"table-header p-d-flex",children:[Object(C.jsx)("div",{className:"p-mr-2",children:Object(C.jsx)(d.a,{disabled:null===A,icon:"pi pi-sliders-v",className:"p-button-warning",onClick:function(){return de("editarDialog"),void H(Object(c.a)({},A))},tooltip:"Editar",tooltipOptions:{position:"top"}})}),Object(C.jsx)("div",{className:"p-mr-2",children:Object(C.jsx)(d.a,{disabled:null===A,icon:"pi pi-map",className:"p-button-success",onClick:function(){fetch(y.a.apiUrl+"/parada/"+A.idServicio,{method:"GET",headers:{Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){H(Object(c.a)(Object(c.a)({},A),{},{paradaList:e})),de("paradasDialog")}))},tooltip:"Paradas",tooltipOptions:{position:"top"}})}),Object(C.jsx)("div",{className:"p-mr-2",children:Object(C.jsx)(d.a,{disabled:null===A,icon:"pi pi-trash",className:"p-button-danger",onClick:function(){return q(!0)},tooltip:"Eliminar",tooltipOptions:{position:"top"}})}),Object(C.jsx)("div",{className:"p-ml-auto",children:Object(C.jsx)(d.a,{label:"Confirmar",disabled:null===A,icon:"pi pi-check",className:"p-button-secondary",onClick:function(){var a=Object(c.a)(Object(c.a)({},A),{},{paradaList:null,fechaInicio:A.fechaInicio.toISOString(),gmResponse:e.from(JSON.stringify(A.gmResponse)).toString("base64"),idEstadoServicio:{idEstadoServicio:3}});console.log(a),fetch(y.a.apiUrl+"/servicio/"+a.idServicio,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){e.ok?Z():console.log("Respuesta de red OK pero respuesta HTTP no OK")}))}})})]}),ue=Object(n.useState)(null),be=Object(l.a)(ue,2),he=be[0],me=be[1],Oe=Object(n.useState)(null),fe=Object(l.a)(Oe,2),ve=fe[0],xe=fe[1];return Object(C.jsxs)("div",{className:"ConfirmacionServicio",children:[Object(C.jsx)("h2",{style:{textAlign:"center"},children:"Servicios por Confirmar"}),Object(C.jsxs)("div",{className:"p-grid p-nogutter",children:[Object(C.jsx)("div",{className:"p-col-12 p-md-6",children:Object(C.jsxs)("div",{className:"p-mx-3",children:[Object(C.jsx)("h3",{children:"Servicios en espera"}),Object(C.jsxs)(s.a,{value:I,selectionMode:"single",selection:A,resizableColumns:!0,onSelectionChange:function(e){L(e.value)},dataKey:"idServicio",scrollable:!0,scrollHeight:"70vh",emptyMessage:"Sin servicios encontrados",showGridlines:!0,paginator:!0,rows:10,header:pe,children:[Object(C.jsx)(r.a,{field:"idServicio",header:"Servicio",style:{width:"25%"},filter:!0,filterPlaceholder:"Buscar ID"}),Object(C.jsx)(r.a,{field:"idCliente",header:"Cliente",body:function(e){return Object(C.jsxs)(o.a.Fragment,{children:[Object(C.jsx)("span",{className:"p-column-title"}),e.idCliente.nombres," ",e.idCliente.apellidos]})},filter:!0,filterPlaceholder:"Buscar Cliente"}),Object(C.jsx)(r.a,{field:"idTipoServicio",header:"Tipo Servicio",body:function(e){return Object(C.jsxs)(o.a.Fragment,{children:[Object(C.jsx)("span",{className:"p-column-title"}),e.idTipoServicio.nombre]})},filter:!0,filterPlaceholder:"Buscar Tipo Servicio"}),Object(C.jsx)(r.a,{body:function(e){return Object(C.jsx)(o.a.Fragment,{children:Object(C.jsx)(d.a,{icon:"pi pi-exclamation-circle",className:"p-button-rounded p-button-warning",onClick:function(){de("detalleDialog"),L(e)}})})},style:{width:"15%"}})]})]})}),Object(C.jsx)("div",{className:"p-col-12 p-md-6",children:Object(C.jsxs)("div",{className:"p-mx-3",children:[Object(C.jsx)("h3",{children:"Mapa del trayecto"}),Object(C.jsx)(N.a,{servicio:A,traffic:!0,height:"70vh"})]})})]}),Object(C.jsx)(p.a,{header:"Detalles del Servicio",visible:Q,onHide:function(){return je("detalleDialog")},footer:se("detalleDialog"),breakpoints:{"960px":"75vw","640px":"100vw"},style:{width:"60vw"},children:null!==A&&Object(C.jsxs)("div",{className:"p-fluid p-formgrid p-grid",children:[Object(C.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(C.jsx)("label",{className:"p-col-4",children:"ID Servicio:"}),Object(C.jsx)("label",{className:"p-col-8",children:A.idServicio})]}),Object(C.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(C.jsx)("label",{className:"p-col-4",children:"Cliente:"}),Object(C.jsx)("label",{className:"p-col-8",children:A.idCliente.fullName})]}),Object(C.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(C.jsx)("label",{className:"p-col-4",children:"Tipo de Servicio:"}),Object(C.jsx)("label",{className:"p-col-8",children:A.idTipoServicio.nombre})]}),Object(C.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(C.jsx)("label",{className:"p-col-4",children:"Motorista:"}),void 0!==A.idUsuario&&void 0!==A.idUsuario.fullName&&null!==A.idUsuario.fullName&&Object(C.jsx)("label",{className:"p-col-8",children:A.idUsuario.fullName})]}),Object(C.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(C.jsx)("label",{className:"p-col-4",children:"Vehiculo(Placa):"}),void 0!==A.idVehiculo&&void 0!==A.idVehiculo.fullName&&null!==A.idVehiculo.fullName&&Object(C.jsx)("label",{className:"p-col-8",children:A.idVehiculo.fullName})]}),Object(C.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(C.jsx)("label",{className:"p-col-4",children:"Capacidad:"}),Object(C.jsx)("label",{className:"p-col-8",children:A.capacidad})]}),Object(C.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(C.jsx)("label",{className:"p-col-4",children:"Maletas:"}),Object(C.jsx)("label",{className:"p-col-8",children:A.maletas})]}),Object(C.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(C.jsx)("label",{className:"p-col-4",children:"Incapacitados:"}),Object(C.jsx)("label",{className:"p-col-8",children:A.incapacitados})]}),Object(C.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(C.jsx)("label",{className:"p-col-4",children:"Vuelo:"}),Object(C.jsx)("label",{className:"p-col-8",children:A.vueloTxt})]}),Object(C.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(C.jsx)("label",{className:"p-col-4",children:"Hotel:"}),Object(C.jsx)("label",{className:"p-col-8",children:A.hotelTxt})]}),Object(C.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(C.jsx)("label",{className:"p-col-4",children:"Inicio:"}),Object(C.jsx)("label",{className:"p-col-8",children:A.fechaInicio.toLocaleString("es-US")})]}),Object(C.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(C.jsx)("label",{className:"p-col-4",children:"Tiempo Calculado:"}),Object(C.jsx)("label",{className:"p-col-8",children:Math.ceil(A.tiempo/60)+" minutos"})]}),Object(C.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(C.jsx)("label",{className:"p-col-4",children:"Distancia Calculada:"}),Object(C.jsx)("label",{className:"p-col-8",children:Math.ceil(A.distancia/1e3)+" km"})]}),Object(C.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(C.jsx)("label",{className:"p-col-4",children:"Detalles del Pago:"}),Object(C.jsx)("label",{className:"p-col-8",children:A.pagoTxt})]}),Object(C.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(C.jsx)("label",{className:"p-col-4",children:"Comentarios del cliente:"}),Object(C.jsx)("label",{className:"p-col-8",children:A.comentario})]})]})}),Object(C.jsx)(p.a,{header:"Paradas del Servicio",visible:ie,onHide:function(){return je("paradasDialog")},footer:se("paradasDialog"),breakpoints:{"960px":"80vw","640px":"100vw"},style:{width:"80vw"},children:null!==z&&Object(C.jsxs)("div",{className:"p-grid p-nogutter",children:[Object(C.jsx)("div",{className:"p-col-12 p-md-6",children:Object(C.jsxs)("div",{className:"p-mx-2",children:[Object(C.jsxs)("div",{className:"p-fluid p-formgrid p-grid",children:[Object(C.jsx)("div",{className:"p-field p-col-12 p-md-12",children:Object(C.jsx)("label",{children:"Ingresar lugares o paradas:"})}),Object(C.jsx)("div",{className:"p-field p-col-12 p-md-12",children:Object(C.jsx)(x.a,{map:S,servicio:z,setServicio:H,setUpdate:E})})]}),Object(C.jsx)(u.a,{value:z.paradaList,dragdrop:!0,itemTemplate:function(e){if(!1===e.activo)return null;var a=z.paradaList.filter((function(e){return!0===e.activo})).indexOf(e),t=String.fromCharCode(65+a);return Object(C.jsxs)("div",{className:"p-grid p-align-center",onClick:function(){null!==S&&S.panTo(Object(c.a)(Object(c.a)({},e),{},{lat:parseFloat(e.lat),lng:parseFloat(e.lng)}))},children:[Object(C.jsx)("div",{className:"p-col-9",children:Object(C.jsxs)("span",{children:[t," - ",e.nombre]})}),Object(C.jsx)("div",{className:"p-col-3",children:Object(C.jsx)(d.a,{icon:"pi pi-times",className:"p-button-rounded p-button-danger",onClick:function(){var a=z.paradaList.map((function(a){return a.idParada===e.idParada?Object(c.a)(Object(c.a)({},a),{},{activo:!1}):a}));H(Object(c.a)(Object(c.a)({},z),{},{paradaList:a})),E(!0)}})})]})},header:"Paradas",onChange:function(e){H(Object(c.a)(Object(c.a)({},z),{},{paradaList:e.value})),E(!0)}}),Object(C.jsx)("div",{className:"p-grid p-justify-between",children:Object(C.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(C.jsx)("label",{className:"p-col-4",children:"Tiempo Calculado:"}),Object(C.jsx)("label",{className:"p-col-8",children:Math.ceil(z.tiempo/60)+" minutos"}),Object(C.jsx)("label",{className:"p-col-4",children:"Distancia Calculada:"}),Object(C.jsx)("label",{className:"p-col-8",children:Math.ceil(z.distancia/1e3)+" km"}),Object(C.jsx)(d.a,{icon:"pi pi-clone",iconPos:"right",label:"Clonar punto A al final",tooltip:"Retorno",onClick:function(){var e=z;if(void 0!==e&&null!==e)if(void 0!==e.paradaList&&null!==e.paradaList&&Array.isArray(e.paradaList))if(void 0!==e.paradaList[0]){var a=Object(c.a)(Object(c.a)({},e.paradaList[0]),{},{idParada:-1*Math.floor(1e6*Math.random())});e.paradaList.push(a),H(Object(c.a)({},e)),E(!0)}else console.log("No tiene posicion para clonar");else console.log("Array de parada no definido o no es un array");else console.log("Sin servicio seleccionado")}})]})})]})}),Object(C.jsx)("div",{className:"p-col-12 p-md-6",children:Object(C.jsx)(g.a,{map:S,setMap:w,servicio:z,setServicio:H,update:F,setUpdate:E,traffic:!0,height:"50vh"})})]})}),Object(C.jsx)(p.a,{header:"Editar Servicio",visible:oe,onHide:function(){return je("editarDialog")},footer:se("editarDialog"),breakpoints:{"960px":"75vw","640px":"100vw"},style:{width:"60vw"},children:null!==A&&null!==z&&Object(C.jsxs)("div",{className:"p-fluid p-formgrid p-grid",children:[Object(C.jsx)("div",{className:"p-field p-col-12 p-md-4",children:Object(C.jsx)("label",{children:"Motorista:"})}),Object(C.jsx)("div",{className:"p-field p-col-12 p-md-8",children:Object(C.jsx)(O.a,{id:"motorista",value:z.idUsuario,suggestions:he,completeMethod:function(e){setTimeout((function(){fetch(y.a.apiUrl+"/usuario/motorista/findByFullName",{method:"POST",headers:{Accept:"application/json","Content-Type":"text/plain"},body:e.query}).then((function(e){return e.json()})).then((function(e){me(e)})).catch((function(e){return console.error("Error:",e)}))}),250)},field:"fullName",dropdown:!0,forceSelection:!0,itemTemplate:function(e){return Object(C.jsxs)("div",{children:[e.nombres," ",e.apellidos]})},onChange:function(e){return H(Object(c.a)(Object(c.a)({},z),{},{idUsuario:e.value}))},placeholder:void 0!==A.idUsuario?A.idUsuario.fullName:"SIN MOTORISTA",autoComplete:"off"})}),Object(C.jsx)("div",{className:"p-field p-col-12 p-md-4",children:Object(C.jsx)("label",{children:"Vehiculo(Placa):"})}),Object(C.jsx)("div",{className:"p-field p-col-12 p-md-8",children:Object(C.jsx)(O.a,{id:"idVehiculo",value:z.idVehiculo,suggestions:ve,completeMethod:function(e){setTimeout((function(){fetch(y.a.apiUrl+"/vehiculo/findByTxt",{method:"POST",headers:{Accept:"application/json","Content-Type":"text/plain"},body:e.query}).then((function(e){return e.json()})).then((function(e){xe(e)}))}),250)},field:"fullName",dropdown:!0,forceSelection:!0,itemTemplate:function(e){return Object(C.jsxs)("div",{children:[e.marca," ",e.modelo," - Capa ",e.capacidad," - Male ",e.maletas," - Inca ",e.incapacitados]})},onChange:function(e){return H(Object(c.a)(Object(c.a)({},z),{},{idVehiculo:e.value}))},placeholder:void 0!==A.idVehiculo?A.idUsuario.fullName:"SIN VEHICULO",autoComplete:"off"})}),Object(C.jsx)("div",{className:"p-field p-col-12 p-md-4",children:Object(C.jsx)("label",{htmlFor:"capacidad",children:"Capacidad"})}),Object(C.jsx)("div",{className:"p-field p-col-12 p-md-8",children:Object(C.jsx)(b.a,{id:"capacidad",value:z.capacidad,onValueChange:function(e){return H(Object(c.a)(Object(c.a)({},z),{},{capacidad:e.value}))},mode:"decimal",showButtons:!0,buttonLayout:"horizontal",min:0,style:{width:"60%"},decrementButtonClassName:"p-button-secondary",incrementButtonClassName:"p-button-secondary",incrementButtonIcon:"pi pi-plus",decrementButtonIcon:"pi pi-minus"})}),Object(C.jsx)("div",{className:"p-field p-col-12 p-md-4",children:Object(C.jsx)("label",{htmlFor:"maletas",children:"Maletas"})}),Object(C.jsx)("div",{className:"p-field p-col-12 p-md-8",children:Object(C.jsx)(b.a,{id:"maletas",value:z.maletas,onValueChange:function(e){return H(Object(c.a)(Object(c.a)({},z),{},{maletas:e.value}))},mode:"decimal",showButtons:!0,buttonLayout:"horizontal",min:0,style:{width:"60%"},decrementButtonClassName:"p-button-secondary",incrementButtonClassName:"p-button-secondary",incrementButtonIcon:"pi pi-plus",decrementButtonIcon:"pi pi-minus"})}),Object(C.jsx)("div",{className:"p-field p-col-12 p-md-4",children:Object(C.jsx)("label",{htmlFor:"incapacitados",children:"Incapacitados"})}),Object(C.jsx)("div",{className:"p-field p-col-12 p-md-8",children:Object(C.jsx)(b.a,{id:"incapacitados",value:z.incapacitados,onValueChange:function(e){return H(Object(c.a)(Object(c.a)({},z),{},{incapacitados:e.value}))},mode:"decimal",showButtons:!0,buttonLayout:"horizontal",min:0,style:{width:"60%"},decrementButtonClassName:"p-button-secondary",incrementButtonClassName:"p-button-secondary",incrementButtonIcon:"pi pi-plus",decrementButtonIcon:"pi pi-minus"})}),Object(C.jsx)("div",{className:"p-field p-col-12 p-md-4",children:Object(C.jsx)("label",{children:"Vuelo:"})}),Object(C.jsx)("div",{className:"p-field p-col-12 p-md-8",children:Object(C.jsx)(f.a,{id:"vueloTxt",type:"text",keyfilter:/^[a-zA-Z0-9- ]+$/,placeholder:"Datos del vuelo",value:z.vueloTxt,onChange:function(e){return H(Object(c.a)(Object(c.a)({},z),{},{vueloTxt:e.target.value}))},autoComplete:"off"})}),Object(C.jsx)("div",{className:"p-field p-col-12 p-md-4",children:Object(C.jsx)("label",{children:"Hotel:"})}),Object(C.jsx)("div",{className:"p-field p-col-12 p-md-8",children:Object(C.jsx)(f.a,{id:"hotelTxt",type:"text",keyfilter:/^[a-zA-Z0-9- ]+$/,placeholder:"Datos del hotel",value:z.hotelTxt,onChange:function(e){return H(Object(c.a)(Object(c.a)({},z),{},{hotelTxt:e.target.value}))},autoComplete:"off"})}),Object(C.jsx)("div",{className:"p-field p-col-12 p-md-4",children:Object(C.jsx)("label",{htmlFor:"fechaInicio",children:"Iniciar Servicio"})}),Object(C.jsx)("div",{className:"p-field p-col-12 p-md-8",children:Object(C.jsx)(h.a,{value:z.fechaInicio,showTime:!0,hourFormat:"12",onChange:function(e){return H(Object(c.a)(Object(c.a)({},z),{},{fechaInicio:e.value}))},locale:"es",dateFormat:"dd/mm/yy",showIcon:!0,placeholder:"Ej: 31/12/2020 12:00 PM",style:{width:"60%"},touchUI:!0})}),Object(C.jsx)("div",{className:"p-field p-col-12 p-md-4",children:Object(C.jsx)("label",{children:"Detalles del Pago:"})}),Object(C.jsx)("div",{className:"p-field p-col-12 p-md-8",children:Object(C.jsx)(v.a,{id:"pagoTxt",type:"text",rows:"4",placeholder:"Descripcion de pago en Efectivo o Wompi(Se enviara detalle al correo electronico)",value:z.pagoTxt,onChange:function(e){return H(Object(c.a)(Object(c.a)({},z),{},{pagoTxt:e.target.value}))}})}),Object(C.jsx)("div",{className:"p-field p-col-12 p-md-4",children:Object(C.jsx)("label",{children:"Comentarios del cliente:"})}),Object(C.jsx)("div",{className:"p-field p-col-12 p-md-8",children:Object(C.jsx)(v.a,{disabled:!0,id:"comentario",type:"text",rows:"2",value:z.comentario,onChange:function(e){return H(Object(c.a)(Object(c.a)({},z),{},{comentario:e.target.value}))}})})]})}),Object(C.jsx)(j.a,{visible:J,onHide:function(){return q(!1)},message:"Favor aceptar para eliminar servicio",header:"Confirmaci\xf3n",icon:"pi pi-exclamation-triangle",accept:function(){fetch(y.a.apiUrl+"/servicio/"+A.idServicio,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){e.ok?(q(!1),Z()):console.log("Respuesta de red OK pero respuesta HTTP no OK")})).catch((function(e){return console.error("Error:",e)}))},breakpoints:{"960px":"75vw","640px":"100vw"},style:{width:"50vw"},acceptLabel:"Si"})]})}}).call(this,t(46).Buffer)},71:function(e,a,t){"use strict";(function(e){var i=t(30),c=t(3),l=t(4),n=t(1),o=t(60),s=t(5),r=t(24),d=t(7),j=t(34),p=t(12),u=t(72),b=t(11),h=t(14),m=t(15),O=t(13),f=t(73),v=t(6),x=t(0);a.a=function(){var a=Object(n.useState)(null),t=Object(l.a)(a,2),g=t[0],N=t[1],y=Object(n.useState)(!1),C=Object(l.a)(y,2),S=C[0],w=C[1],T=function(e){w(e)},k=Object(n.useState)(!1),F=Object(l.a)(k,2),E=F[0],P=F[1],M=Object(n.useState)(!1),I=Object(l.a)(M,2),U=I[0],D=I[1],R=function(){D(!1)},A=Object(n.useState)(!1),L=Object(l.a)(A,2),B=L[0],V=L[1];Object(n.useEffect)((function(){fetch(v.a.apiUrl+"/info/minTime",{method:"GET",headers:{Accept:"text/plain"}}).then((function(e){return e.json()})).then((function(e){$(Object(c.a)(Object(c.a)({},Z),{},{fechaInicio:new Date(e)}))}))}),[]);var z=function(){Q()?fetch(v.a.apiUrl+"/cliente/reserva",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(X)}).then((function(e){if(e.ok)return e.json();K("Error del servidro","Response not ok POST /usuario")})).then((function(e){void 0!==e.idCliente?($(Object(c.a)(Object(c.a)({},Z),{},{idCliente:e})),se()):K("Error al crear usuario","Retribucion sin identidicador")})):G("Campos incompletos","Verificar campos de nuevo cliente")},H=Object(n.useRef)(null),G=function(e,a){H.current.show({severity:"warn",summary:e,detail:a,life:3e3})},K=function(e,a){H.current.show({severity:"error",summary:e,detail:a,life:3e3})},J=Object(n.useState)({activo:!0,capacidad:4,fechaInicio:"",fechaFinal:null,gmResponse:"",hotelTxt:"-",idCliente:{idCliente:null,correo:""},idEstadoServicio:{idEstadoServicio:2},idServicio:null,idTipoServicio:{idTipoServicio:5},idUsuario:{idUsuario:1},idVehiculo:{idVehiculo:1},incapacitados:0,maletas:0,comentario:"",pagoTxt:"-",vueloTxt:"-",tiempo:0,distancia:0}),q=Object(l.a)(J,2),Z=q[0],$=q[1],_=Object(n.useState)({activo:!0,apellidos:"",correo:"",direccion:"",dui:"",idEntidad:{idEntidad:1},idCliente:null,idTipoCliente:{idTipoCliente:1},nombres:"",telefono:""}),W=Object(l.a)(_,2),X=W[0],Y=W[1],Q=function(){if(null!==X.idCliente)return!1;if(null===X.idTipoCliente)return!1;if(""===X.nombres||""===X.apellidos||""===X.password||""===X.telefono||""===X.direccion||""===X.direccion)return!1;return!!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(X.correo).toLowerCase())},ee=Object(n.useState)([null,null,null]),ae=Object(l.a)(ee,2),te=ae[0],ie=ae[1];Object(p.a)("es",{firstDayOfWeek:1,dayNames:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],dayNamesShort:["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],dayNamesMin:["D","L","M","X","J","V","S"],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],today:"Hoy",clear:"Claro"});var ce=Object(n.useState)(!1),le=Object(l.a)(ce,2),ne=le[0],oe=le[1],se=function(){V(!0),setTimeout((function(){return V(!1)}),5e3),null!==Z.idServicio||null===Z.idCliente||null===Z.idEstadoServicio||null===Z.idTipoServicio||null===Z.idUsuario||null===Z.idVehiculo||""===Z.hotelTxt||""===Z.vueloTxt||""===Z.pagoTxt||null===Z.fechaInicio||te.length<2||0===Z.tiempo||0===Z.distancia||""===Z.gmResponse||!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(Z.idCliente.correo).toLowerCase())?G("Datos incompletos","Verificar datos de la reserva"):fetch(v.a.apiUrl+"/cliente/personal/correo",{method:"POST",headers:{Accept:"application/json","Content-Type":"text/plain"},body:Z.idCliente.correo}).then((function(e){if(200===e.status)return e.json();204===e.status&&(D(!0),Y(Object(c.a)(Object(c.a)({},X),{},{correo:Z.idCliente.correo})))})).then((function(e){if(void 0!==e){var a=Object(c.a)(Object(c.a)({},Z),{},{idCliente:e});fetch(v.a.apiUrl+"/servicio/reserva",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){if(void 0!==e.idServicio){var a=Object(i.a)(te);a=(a=a.filter((function(e){return null!==e}))).map((function(a){return Object(c.a)(Object(c.a)({},a),{},{idParada:null,index:null,activo:!0,idServicio:e})})),fetch(v.a.apiUrl+"/parada",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(a){var t,i;a.ok?(D(!1),t="Servicio Generado",i="Numero de Servicio: "+e.idServicio,H.current.show({severity:"success",summary:t,detail:i,life:3e3}),P(!0)):console.log("Error del servidor","Response not ok POST /parada")}))}else K("Sin ID del Servicio","")}))}}))};return Object(x.jsxs)("div",{className:"Reservacion",children:[Object(x.jsx)(O.a,{ref:H}),Object(x.jsx)("h2",{style:{textAlign:"center"},children:"Generar Reservaciones"}),Object(x.jsxs)("div",{className:"p-grid p-nogutter",children:[Object(x.jsx)("div",{className:"p-col-12 p-md-1"}),Object(x.jsx)("div",{className:"p-col-12 p-md-4",children:Object(x.jsxs)("div",{className:"p-mx-3",children:[Object(x.jsx)("h2",{children:"Datos de la reserva del viaje"}),Object(x.jsxs)("div",{className:"p-fluid p-grid p-formgrid",children:[Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(x.jsx)("label",{htmlFor:"origen",children:"Origen"}),Object(x.jsxs)("span",{className:"p-input-icon-right",children:[Object(x.jsx)("i",{className:"pi pi-map-marker"}),Object(x.jsx)(o.a,{id:"origen",addParada:function(e){if(void 0!==e.geometry.location.lat&&void 0!==e.geometry.location.lng){var a={alt:"10",idParada:(new Date).valueOf(),lat:e.geometry.location.lat(),lng:e.geometry.location.lng(),nombre:e.name,idPasajero:null},t=te;t[0]=a,ie(t),null!==t[0]&&null!==t[1]&&w(!0),g.panTo(e.geometry.location)}}})]})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(x.jsx)("label",{htmlFor:"destino",children:"Destino"}),Object(x.jsxs)("span",{className:"p-input-icon-right",children:[Object(x.jsx)("i",{className:"pi pi-map-marker"}),Object(x.jsx)(o.a,{id:"destino",addParada:function(e){if(void 0!==e.geometry.location.lat&&void 0!==e.geometry.location.lng){var a={alt:"10",idParada:(new Date).valueOf(),lat:e.geometry.location.lat(),lng:e.geometry.location.lng(),nombre:e.name,idPasajero:null},t=te;t[1]=a,ie(t),null!==t[0]&&null!==t[1]&&w(!0),g.panTo(e.geometry.location)}}})]})]}),Object(x.jsx)("div",{className:"p-field p-col-12 p-md-6",children:Object(x.jsx)("label",{htmlFor:"info",children:"Estimaciones del viaje:"})}),Object(x.jsx)("div",{className:"p-field p-col-12 p-md-6",children:Object(x.jsx)("label",{htmlFor:"info",children:Math.ceil(Z.tiempo/60)+" minutos"})}),Object(x.jsx)(r.a,{}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(x.jsx)("label",{htmlFor:"correo",children:"Correo"}),Object(x.jsxs)("span",{className:"p-input-icon-right",children:[Object(x.jsx)("i",{className:"pi pi-envelope"}),Object(x.jsx)(d.a,{keyfilter:"email",placeholder:"Correo",value:Z.idCliente.correo,onChange:function(e){return $(Object(c.a)(Object(c.a)({},Z),{},{idCliente:{idCliente:null,correo:e.target.value}}))}})]})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-9",children:[Object(x.jsx)("label",{htmlFor:"fechaInicio",children:"Fecha"}),Object(x.jsx)(j.a,{value:Z.fechaInicio,showTime:!0,hourFormat:"12",onChange:function(e){return $(Object(c.a)(Object(c.a)({},Z),{},{fechaInicio:e.value}))},locale:"es",dateFormat:"dd/mm/yy",showIcon:!0,placeholder:"Ej: 31/12/2020 12:00 PM",minDate:new Date,touchUI:!0})]}),Object(x.jsx)("div",{className:"p-field p-col-12 p-md-3"}),Object(x.jsxs)("div",{className:"p-field p-col-12",children:[Object(x.jsx)("label",{htmlFor:"comentario",children:"Comentarios Adicionales:"}),Object(x.jsx)(m.a,{id:"comentario",type:"text",rows:"2",placeholder:"Comentanos si deseas otros destinos o paradas...",value:Z.comentario,onChange:function(e){return $(Object(c.a)(Object(c.a)({},Z),{},{comentario:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-col-12 p-md-9",children:[Object(x.jsx)(u.a,{id:"retorno",style:{marginRight:"8px"},onChange:function(e){oe(e.checked);var a=te;if(e.checked&&null!==a[0]&&null!==a[1]){var t=Object(c.a)({},a[0]);t.idParada=(new Date).valueOf(),a[2]=t,ie(a),w(!0)}else a[2]=null,ie(a),w(!0)},checked:ne}),Object(x.jsx)("label",{htmlFor:"retorno",className:"p-checkbox-label",children:"Incluir retorno"})]}),Object(x.jsx)("div",{className:"p-field p-col-12 p-md-3"})]}),Object(x.jsx)(r.a,{}),Object(x.jsx)(s.a,{label:"Solicitar Reserva",disabled:B,icon:"pi pi-compass",onClick:se})]})}),Object(x.jsxs)("div",{className:"p-col-12 p-md-6",children:[Object(x.jsx)("h2",{children:"Mapa"}),Object(x.jsx)(f.a,{paradaList:te,setMapInstanceFunc:function(e){N(e)},needService:S,needServiceFunc:T,editParada:function(e,a){var t=[];te.forEach((function(i){null===i?t.push(i):i.idParada===e.idParada?t.push(Object(c.a)(Object(c.a)({},i),{},{lat:a.latLng.lat(),lng:a.latLng.lng()})):t.push(i)})),console.log(te),console.log(t),ie(t),T(!0)},setTiempoDistancia:function(e,a){$(Object(c.a)(Object(c.a)({},Z),{},{tiempo:e,distancia:a}))},setDirectionResponseFunc:function(a){var t=JSON.stringify(a),i=e.from(t).toString("base64");$(Object(c.a)(Object(c.a)({},Z),{},{gmResponse:i}))}})]})]}),Object(x.jsx)("div",{className:"p-col-12 p-md-1"}),Object(x.jsx)(b.a,{header:"Cliente nuevo, favor brindanos tus datos y reserva",visible:U,breakpoints:{"960px":"75vw","640px":"100vw"},style:{width:"60vw"},footer:function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)(s.a,{label:"Cancelar",icon:"pi pi-times",onClick:R,className:"p-button-text"}),Object(x.jsx)(s.a,{label:"Registar y Reservar",icon:"pi pi-check",disabled:B,onClick:z,autoFocus:!0})]})},onHide:R,children:Object(x.jsxs)("div",{className:"p-fluid p-formgrid p-grid",children:[Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"telefono",children:"DUI"}),Object(x.jsx)(h.a,{id:"dui",mask:"99999999-9",keyfilter:"int",placeholder:"Ingresar DUI",value:X.dui,onChange:function(e){return Y(Object(c.a)(Object(c.a)({},X),{},{dui:e.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"telefono",children:"Telefono"}),Object(x.jsx)(h.a,{id:"telefono",mask:"99999999",keyfilter:"int",placeholder:"Telefono de contacto",value:X.telefono,onChange:function(e){return Y(Object(c.a)(Object(c.a)({},X),{},{telefono:e.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"nombres",children:"Nombres"}),Object(x.jsx)(d.a,{id:"nombres",type:"text  ",keyfilter:/^[a-zA-Z ]+$/,placeholder:"Ingrese sus nombres",value:X.nombres,onChange:function(e){return Y(Object(c.a)(Object(c.a)({},X),{},{nombres:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"apellidos",children:"Apellidos"}),Object(x.jsx)(d.a,{id:"apellidos",type:"text",keyfilter:/^[a-zA-Z ]+$/,placeholder:"Ingrese sus apellidos",value:X.apellidos,onChange:function(e){return Y(Object(c.a)(Object(c.a)({},X),{},{apellidos:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"correo",children:"Correo"}),Object(x.jsx)(d.a,{id:"correo",keyfilter:"email",placeholder:"Ingrese su correo",value:X.correo,onChange:function(e){Y(Object(c.a)(Object(c.a)({},X),{},{correo:e.target.value})),$(Object(c.a)(Object(c.a)({},Z),{},{idCliente:Object(c.a)(Object(c.a)({},Z.idCliente),{},{correo:e.target.value})}))}})]}),Object(x.jsx)("div",{className:"p-field p-col-12 p-md-6"}),Object(x.jsxs)("div",{className:"p-field p-col-12",children:[Object(x.jsx)("label",{htmlFor:"direccion",children:"Direcci\xf3n u Hogar"}),Object(x.jsx)(m.a,{id:"direccion",type:"text",rows:"3",placeholder:"Direccion u hogar del cliente",value:X.direccion,onChange:function(e){return Y(Object(c.a)(Object(c.a)({},X),{},{direccion:e.target.value}))}})]})]})}),Object(x.jsxs)(b.a,{header:"\xa1Enhorabuena!",visible:E,breakpoints:{"960px":"75vw","640px":"100vw"},style:{width:"60vw"},onHide:function(){P(!1)},children:[Object(x.jsx)("h4",{children:"Tu reserva ha sido enviada"}),Object(x.jsx)("p",{children:"Te invitamos a que te encuentres pendiente tu correo electr\xf3nico, en breve te enviara los detalles de tu reservaci\xf3n. Si tiene alguna pregunta, contactarse al n\xfamero 2475-4794."})]})]})}}).call(this,t(46).Buffer)},73:function(e,a,t){"use strict";var i=t(4),c=t(1),l=t(10),n=t(0),o={width:"100%",height:"65vh"},s={lat:13.7762518,lng:-88.8805684},r=[{lat:14.0296363,lng:-89.5372124},{lat:13.7220397,lng:-89.1518454}],d={strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35,clickable:!1,draggable:!1,editable:!1,visible:!0,radius:300,zIndex:1};a.a=function(e){var a=Object(c.useState)(!1),t=Object(i.a)(a,2),j=t[0],p=t[1],u=Object(c.useState)(null),b=Object(i.a)(u,2),h=b[0],m=b[1],O=function(){return null!==e.paradaList[2]?e.paradaList[2]:e.paradaList[1]};return Object(n.jsxs)(l.f,{mapContainerStyle:o,center:s,zoom:9,onLoad:function(a){null!==a?e.setMapInstanceFunc(a):console.log("mapInstance is not loaded yet!")},children:[e.paradaList.map((function(a){return null===a?null:Object(n.jsx)(l.h,{position:{lat:a.lat,lng:a.lng},title:a.nombre,draggable:!0,onDragEnd:function(t){e.editParada(a,t)}},a.idParada)})),!0===e.needService&&Object(n.jsx)(l.d,{options:{origin:e.paradaList[0].lat+","+e.paradaList[0].lng,destination:O().lat+","+O().lng,travelMode:"DRIVING",waypoints:function(){var a=[];if(null!==e.paradaList[2]){var t=e.paradaList[1];a.push({location:t.lat+","+t.lng,stopover:!0})}return a}()},callback:function(a){null!==a&&("OK"===a.status?(e.needServiceFunc(!1),m(a),e.setDirectionResponseFunc(a),p(!0)):console.log("response: ",a))}}),null!==h&&Object(n.jsx)(l.c,{options:{directions:h}}),!0===j&&Object(n.jsx)(l.e,{callback:function(a){if(null!==a){p(!1);var t=0,i=0;a.rows.forEach((function(e){e.elements.forEach((function(e){"OK"===e.status&&(t+=e.duration.value,i+=e.distance.value)}))})),t=Math.ceil(t),e.setTiempoDistancia(t,i)}else console.log("response: ",a)},options:{origins:function(){var a=[];return a.push(e.paradaList[0]),null!==e.paradaList[2]&&a.push(e.paradaList[1]),a}(),destinations:function(){var a=[];return a.push(e.paradaList[1]),null!==e.paradaList[2]&&a.push(e.paradaList[2]),a}(),travelMode:"DRIVING"}}),Object(n.jsx)(l.b,{center:r[0],options:d}),Object(n.jsx)(l.b,{center:r[1],options:d})]})}},93:function(e,a,t){},94:function(e,a,t){"use strict";t.r(a);var i=t(1),c=t.n(i),l=t(21),n=t.n(l),o=t(37),s=t(20),r=t(4),d=t(19),j=t(8),p=t(7),u=t(3),b=t(5),h=t(13),m=t(11),O=t(14),f=t(15),v=t(6),x=t(0);var g=function(e){var a,t=Object(i.useState)(!1),c=Object(r.a)(t,2),l=c[0],n={dialog:c[1]},o=function(e){n["".concat(e)](!1)},s=Object(i.useRef)(null),d=Object(i.useState)({activo:!0,apellidos:"",correo:"",direccion:"",dui:"",idEntidad:{idEntidad:1},idCliente:null,idTipoCliente:null,nombres:"",telefono:""}),j=Object(r.a)(d,2),g=j[0],N=j[1],y=function(){if(null!==g.idCliente||null!==g.idTipoCliente||""===g.nombres||""===g.apellidos||""===g.correo||""===g.password||""===g.telefono||""===g.direccion||""===g.direccion)return a="Campos incompletos",t="",void s.current.show({severity:"warn",summary:a,detail:t,life:3e3});var a,t;fetch(v.a.apiUrl+"/cliente/personal",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(g)}).then((function(a){a.ok?(o("dialog"),function(e,a){s.current.show({severity:"success",summary:e,detail:a,life:3e3})}("Cliente personal registrado",""),e.updateTabla()):function(e,a){s.current.show({severity:"error",summary:e,detail:a,life:3e3})}("Error del servidro","Response not ok POST /usuario")}))};return Object(x.jsxs)("div",{className:"RegistrarPersonal",children:[Object(x.jsx)(h.a,{ref:s}),Object(x.jsx)(m.a,{header:"Registrar Cliente Personal",visible:l,onHide:function(){return o("dialog")},footer:(a="dialog",Object(x.jsxs)("div",{children:[Object(x.jsx)(b.a,{label:"Cancelar",icon:"pi pi-times",onClick:function(){return o(a)},className:"p-button-text"}),Object(x.jsx)(b.a,{label:"Registrar",icon:"pi pi-check",onClick:y,autoFocus:!0})]})),breakpoints:{"960px":"75vw","640px":"100vw"},style:{width:"60vw"},children:Object(x.jsxs)("div",{className:"p-fluid p-formgrid p-grid",children:[Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"telefono",children:"DUI"}),Object(x.jsx)(O.a,{id:"dui",mask:"99999999-9",keyfilter:"int",placeholder:"Ingresar DUI",value:g.dui,onChange:function(e){return N(Object(u.a)(Object(u.a)({},g),{},{dui:e.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"telefono",children:"Telefono"}),Object(x.jsx)(O.a,{id:"telefono",mask:"99999999",keyfilter:"int",placeholder:"Telefono del cliente personal",value:g.telefono,onChange:function(e){return N(Object(u.a)(Object(u.a)({},g),{},{telefono:e.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"nombres",children:"Nombres"}),Object(x.jsx)(p.a,{id:"nombres",type:"text  ",keyfilter:/^[a-zA-Z ]+$/,placeholder:"Nombres del cliente personal",value:g.nombres,onChange:function(e){return N(Object(u.a)(Object(u.a)({},g),{},{nombres:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"apellidos",children:"Apellidos"}),Object(x.jsx)(p.a,{id:"apellidos",type:"text",keyfilter:/^[a-zA-Z ]+$/,placeholder:"Apellidos del cliente personal",value:g.apellidos,onChange:function(e){return N(Object(u.a)(Object(u.a)({},g),{},{apellidos:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"correo",children:"Correo"}),Object(x.jsx)(p.a,{id:"correo",type:"text",keyfilter:"email",placeholder:"Correo del cliente personal",value:g.correo,onChange:function(e){return N(Object(u.a)(Object(u.a)({},g),{},{correo:e.target.value}))}})]}),Object(x.jsx)("div",{className:"p-field p-col-12 p-md-6"}),Object(x.jsxs)("div",{className:"p-field p-col-12",children:[Object(x.jsx)("label",{htmlFor:"direccion",children:"Direcci\xf3n"}),Object(x.jsx)(f.a,{id:"direccion",type:"text",rows:"3",placeholder:"Direccion de cliente personal",value:g.direccion,onChange:function(e){return N(Object(u.a)(Object(u.a)({},g),{},{direccion:e.target.value}))}})]})]})}),Object(x.jsx)(b.a,{label:"Registrar",icon:"pi pi-user-plus",onClick:function(){return function(e){n["".concat(e)](!0)}("dialog")}})]})},N=t(27);var y=function(e){var a=Object(i.useState)(!1),t=Object(r.a)(a,2),c=t[0],l=t[1];return Object(x.jsxs)("div",{className:"BorrarPersonal",children:[Object(x.jsx)(N.a,{visible:c,onHide:function(){return l(!1)},message:"Favor aceptar para eliminar el cliente",header:"Confirmaci\xf3n",icon:"pi pi-exclamation-triangle",accept:function(){fetch(v.a.apiUrl+"/cliente/personal/"+e.selected.idCliente,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(a){a.ok?(l(!1),e.updateTabla()):console.log("Respuesta de red OK pero respuesta HTTP no OK")})).catch((function(e){return console.error("Error:",e)}))},reject:function(){},breakpoints:{"960px":"75vw","640px":"100vw"},style:{width:"50vw"},acceptLabel:"Si"}),Object(x.jsx)(b.a,{disabled:null===e.selected,icon:"pi pi-trash",onClick:function(){return l(!0)},className:"p-button-danger"})]})};var C=function(e){var a,t=Object(i.useState)(!1),c=Object(r.a)(t,2),l=c[0],n={dialog:c[1]},o=function(e){n["".concat(e)](!1)},s=Object(i.useRef)(null),d=Object(i.useState)({activo:!0,apellidos:"",correo:"",direccion:"",dui:"",idCliente:null,idTipoCliente:null,nombres:"",telefono:""}),j=Object(r.a)(d,2),g=j[0],N=j[1],y=function(){if(null===g.idCliente||null===g.idTipoCliente||""===g.nombres||""===g.apellidos||""===g.correo||""===g.telefono||""===g.direccion||""===g.direccion||""===g.dui)return a="Campos incompletos",t="",void s.current.show({severity:"warn",summary:a,detail:t,life:3e3});var a,t;fetch(v.a.apiUrl+"/cliente/personal/"+e.selected.idCliente,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(g)}).then((function(a){a.ok?(o("dialog"),function(e,a){s.current.show({severity:"success",summary:e,detail:a,life:3e3})}("Cliente personal editado",""),e.updateTabla()):function(e,a){s.current.show({severity:"error",summary:e,detail:a,life:3e3})}("Error del servidor","Response not ok POST /cliente/personal")})).catch((function(e){return console.error("Error:",e)}))};return Object(x.jsxs)("div",{className:"ModificarPersonal",children:[Object(x.jsx)(h.a,{ref:s}),Object(x.jsx)(m.a,{header:"Registrar Cliente Personal",visible:l,onHide:function(){return o("dialog")},footer:(a="dialog",Object(x.jsxs)("div",{children:[Object(x.jsx)(b.a,{label:"Cancelar",icon:"pi pi-times",onClick:function(){return o(a)},className:"p-button-text"}),Object(x.jsx)(b.a,{label:"Editar",icon:"pi pi-check",onClick:y,autoFocus:!0})]})),breakpoints:{"960px":"75vw","640px":"100vw"},style:{width:"60vw"},children:Object(x.jsxs)("div",{className:"p-fluid p-formgrid p-grid",children:[Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"telefono",children:"DUI"}),Object(x.jsx)(O.a,{id:"dui",mask:"99999999-9",keyfilter:"int",placeholder:"Ingresar DUI",value:g.dui,onChange:function(e){return N(Object(u.a)(Object(u.a)({},g),{},{dui:e.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"telefono",children:"Telefono"}),Object(x.jsx)(O.a,{id:"telefono",mask:"99999999",keyfilter:"int",placeholder:"Telefono del cliente personal",value:g.telefono,onChange:function(e){return N(Object(u.a)(Object(u.a)({},g),{},{telefono:e.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"nombres",children:"Nombres"}),Object(x.jsx)(p.a,{id:"nombres",type:"text  ",keyfilter:/^[a-zA-Z ]+$/,placeholder:"Nombres del cliente personal",value:g.nombres,onChange:function(e){return N(Object(u.a)(Object(u.a)({},g),{},{nombres:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"apellidos",children:"Apellidos"}),Object(x.jsx)(p.a,{id:"apellidos",type:"text",keyfilter:/^[a-zA-Z ]+$/,placeholder:"Apellidos del cliente personal",value:g.apellidos,onChange:function(e){return N(Object(u.a)(Object(u.a)({},g),{},{apellidos:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"correo",children:"Correo"}),Object(x.jsx)(p.a,{id:"correo",type:"text",keyfilter:"email",placeholder:"Correo del cliente personal",value:g.correo,onChange:function(e){return N(Object(u.a)(Object(u.a)({},g),{},{correo:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12",children:[Object(x.jsx)("label",{htmlFor:"direccion",children:"Direcci\xf3n"}),Object(x.jsx)(f.a,{id:"direccion",type:"text",rows:"3",placeholder:"Direccion de cliente personal",value:g.direccion,onChange:function(e){return N(Object(u.a)(Object(u.a)({},g),{},{direccion:e.target.value}))}})]})]})}),Object(x.jsx)(b.a,{label:"Editar",disabled:null===e.selected,icon:"pi pi-user-edit",className:"p-button-secondary",onClick:function(){null!==e.selected.idCliente?(N(e.selected),n["".concat("dialog")](!0)):console.log("Sin Seleccion del usuario")}})]})};var S=function(){var e=Object(i.useState)([]),a=Object(r.a)(e,2),t=a[0],l=a[1],n=Object(i.useState)(null),o=Object(r.a)(n,2),s=o[0],u=o[1],b=Object(i.useState)(""),h=Object(r.a)(b,2),m=h[0],O=h[1];Object(i.useEffect)((function(){f()}),[]);var f=function(){u(null),fetch(v.a.apiUrl+"/cliente/personal",{method:"GET",headers:{Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){return l(e)}))},N=Object(x.jsxs)("div",{className:"table-header p-d-flex",children:[Object(x.jsx)("div",{className:"p-mr-2",children:Object(x.jsx)(g,{updateTabla:f})}),Object(x.jsx)("div",{className:"p-mr-2",children:Object(x.jsx)(C,{updateTabla:f,selected:s})}),Object(x.jsx)("div",{className:"p-mr-2",children:Object(x.jsx)(y,{updateTabla:f,selected:s})}),Object(x.jsx)("div",{className:"p-ml-auto",children:Object(x.jsxs)("span",{className:"p-input-icon-left",children:[Object(x.jsx)("i",{className:"pi pi-search"}),Object(x.jsx)(p.a,{type:"search",value:m,onChange:function(e){return O(e.target.value)},placeholder:"Buscar"})]})})]});return Object(x.jsx)("div",{className:"ClientesPersonal",children:Object(x.jsxs)("div",{className:"p-grid",children:[Object(x.jsx)("div",{className:"p-col-1 hide-sm"}),Object(x.jsxs)("div",{className:"p-col-10 max-in-sm datatable-responsive-demo",children:[Object(x.jsx)("h1",{children:"Clientes Personal"}),Object(x.jsxs)(d.a,{value:t,selectionMode:"single",selection:s,onSelectionChange:function(e){return u(e.value)},dataKey:"idCliente",resizableColumns:!0,className:"p-datatable-responsive-demo",paginator:!0,rows:10,header:N,globalFilter:m,emptyMessage:"Sin registros encontrados",showGridlines:!0,children:[Object(x.jsx)(j.a,{field:"idCliente",header:"ID",headerStyle:{width:"8vw"},body:function(e){return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)("span",{className:"p-column-title",children:"ID:"}),e.idCliente]})},filter:!0,filterPlaceholder:"Buscar ID"}),Object(x.jsx)(j.a,{field:"dui",header:"DUI",headerStyle:{width:"12vw"},body:function(e){return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)("span",{className:"p-column-title",children:"DUI:"}),e.dui]})},filter:!0,filterPlaceholder:"Buscar DUI"}),Object(x.jsx)(j.a,{field:"nombres",header:"Nombres",headerStyle:{width:"16vw"},body:function(e){return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)("span",{className:"p-column-title",children:"Nombres:"}),e.nombres]})},filter:!0,filterPlaceholder:"Buscar Nombres",filterMatchMode:"contains"}),Object(x.jsx)(j.a,{field:"apellidos",header:"Apellidos",headerStyle:{width:"16vw"},body:function(e){return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)("span",{className:"p-column-title",children:"Apellidos:"}),e.apellidos]})},filter:!0,filterPlaceholder:"Buscar Apellidos",filterMatchMode:"contains"}),Object(x.jsx)(j.a,{field:"telefono",header:"Telefono",headerStyle:{width:"12vw"},body:function(e){return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)("span",{className:"p-column-title",children:"Telefono:"}),e.telefono]})},filter:!0,filterPlaceholder:"Buscar Telefono",filterMatchMode:"contains"}),Object(x.jsx)(j.a,{field:"correo",header:"Correo",body:function(e){return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)("span",{className:"p-column-title",children:"Correo:"}),e.correo]})},filter:!0,filterPlaceholder:"Buscar Correo",filterMatchMode:"contains"})]})]}),Object(x.jsx)("div",{className:"p-col-1 hide-sm"})]})})},w=t(17);var T=function(e){var a=Object(i.useState)(!1),t=Object(r.a)(a,2),c=t[0],l=t[1];return Object(x.jsxs)("div",{className:"BorrarEmpresarial",children:[Object(x.jsx)(N.a,{visible:c,onHide:function(){return l(!1)},message:"Favor aceptar para eliminar cliente empresarial",header:"Confirmaci\xf3n",icon:"pi pi-exclamation-triangle",accept:function(){fetch(v.a.apiUrl+"/cliente/empresarial/"+e.selected.idCliente,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(a){a.ok?(l(!1),e.updateTabla(e.entidad.idEntidad)):console.log("Respuesta de red OK pero respuesta HTTP no OK")})).catch((function(e){return console.error("Error:",e)}))},reject:function(){},breakpoints:{"960px":"75vw","640px":"100vw"},style:{width:"50vw"},acceptLabel:"Si"}),Object(x.jsx)(b.a,{tooltip:"Eliminar",tooltipOptions:{position:"top"},disabled:null===e.selected,icon:"pi pi-trash",onClick:function(){return l(!0)},className:"p-button-danger"})]})};var k=function(e){var a,t=Object(i.useState)(!1),c=Object(r.a)(t,2),l=c[0],n={dialog:c[1]},o=function(e){n["".concat(e)](!1)},s=Object(i.useRef)(null),d=Object(i.useState)({activo:!0,apellidos:" - Empresarial",correo:"",direccion:"",dui:"-",idEntidad:null,idCliente:null,idTipoCliente:null,nombres:"",telefono:""}),j=Object(r.a)(d,2),g=j[0],N=j[1],y=function(){if(null!==g.idCliente||null!==g.idTipoCliente||""===g.nombres||""===g.apellidos||""===g.correo||""===g.telefono||""===g.direccion||""===g.direccion||""===g.dui)return a="Campos incompletos",t="",void s.current.show({severity:"warn",summary:a,detail:t,life:3e3});var a,t,i=Object(u.a)(Object(u.a)({},g),{},{idEntidad:e.entidad});fetch(v.a.apiUrl+"/cliente/empresarial",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(i)}).then((function(a){a.ok?(o("dialog"),function(e,a){s.current.show({severity:"success",summary:e,detail:a,life:3e3})}("Cliente empresarial registrado",""),e.updateTabla(e.entidad.idEntidad)):function(e,a){s.current.show({severity:"error",summary:e,detail:a,life:3e3})}("Error del servidor","Response not ok POST /cliente/empresarial")}))};return Object(x.jsxs)("div",{className:"RegistrarEmpresarial",children:[Object(x.jsx)(h.a,{ref:s}),Object(x.jsx)(m.a,{header:"Registrar Cliente Empresarial",visible:l,onHide:function(){return o("dialog")},footer:(a="dialog",Object(x.jsxs)("div",{children:[Object(x.jsx)(b.a,{label:"Cancelar",icon:"pi pi-times",onClick:function(){return o(a)},className:"p-button-text"}),Object(x.jsx)(b.a,{label:"Registrar",icon:"pi pi-check",onClick:y,autoFocus:!0})]})),breakpoints:{"960px":"75vw","640px":"100vw"},style:{width:"60vw"},children:Object(x.jsxs)("div",{className:"p-fluid p-formgrid p-grid",children:[Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"nombres",children:"Nombre Cliente"}),Object(x.jsx)(p.a,{id:"nombres",type:"text  ",keyfilter:/^[a-zA-Z0-9- ]+$/,placeholder:"Nombres del cliente empresarial",value:g.nombres,onChange:function(e){return N(Object(u.a)(Object(u.a)({},g),{},{nombres:e.target.value}))}})]}),Object(x.jsx)("div",{className:"p-field p-col-12 p-md-6"}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"telefono",children:"Telefono"}),Object(x.jsx)(O.a,{id:"telefono",mask:"99999999",keyfilter:"int",placeholder:"Telefono del cliente empresarial",value:g.telefono,onChange:function(e){return N(Object(u.a)(Object(u.a)({},g),{},{telefono:e.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"correo",children:"Correo"}),Object(x.jsx)(p.a,{id:"correo",type:"text",keyfilter:"email",placeholder:"Correo del cliente empresarial",value:g.correo,onChange:function(e){return N(Object(u.a)(Object(u.a)({},g),{},{correo:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12",children:[Object(x.jsx)("label",{htmlFor:"direccion",children:"Direcci\xf3n"}),Object(x.jsx)(f.a,{id:"direccion",type:"text",rows:"3",placeholder:"Direccion de cliente empresarial",value:g.direccion,onChange:function(e){return N(Object(u.a)(Object(u.a)({},g),{},{direccion:e.target.value}))}})]})]})}),Object(x.jsx)(b.a,{tooltip:"Registrar",tooltipOptions:{position:"top"},disabled:null===e.entidad,icon:"pi pi-user-plus",onClick:function(){return function(e){n["".concat(e)](!0)}("dialog")}})]})};var F=function(e){var a,t=Object(i.useState)(!1),c=Object(r.a)(t,2),l=c[0],n={dialog:c[1]},o=function(e){n["".concat(e)](!1)},s=Object(i.useRef)(null),d=Object(i.useState)({activo:!0,apellidos:" - Empresarial",correo:"",direccion:"",dui:"-",idEntidad:null,idCliente:null,idTipoCliente:null,nombres:"",telefono:""}),j=Object(r.a)(d,2),g=j[0],N=j[1],y=function(){if(null===g.idCliente||null===g.idTipoCliente||""===g.nombres||""===g.apellidos||""===g.correo||""===g.password||""===g.telefono||""===g.direccion||""===g.direccion)return a="Campos incompletos",t="",void s.current.show({severity:"warn",summary:a,detail:t,life:3e3});var a,t;g.idEntidad={idEntidad:e.entidad.idEntidad},fetch(v.a.apiUrl+"/cliente/empresarial/"+g.idCliente,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(g)}).then((function(a){a.ok?(o("dialog"),function(e,a){s.current.show({severity:"success",summary:e,detail:a,life:3e3})}("Cliente empresarial registrado",""),e.updateTabla(e.entidad.idEntidad)):function(e,a){s.current.show({severity:"error",summary:e,detail:a,life:3e3})}("Error del servidor","Response not ok PUT /cliente/empresarial")})).catch((function(e){return console.error("Error:",e)}))};return Object(x.jsxs)("div",{className:"EditarEmpresarial",children:[Object(x.jsx)(h.a,{ref:s}),Object(x.jsx)(m.a,{header:"Editar Cliente Empresarial",visible:l,onHide:function(){return o("dialog")},footer:(a="dialog",Object(x.jsxs)("div",{children:[Object(x.jsx)(b.a,{label:"Cancelar",icon:"pi pi-times",onClick:function(){return o(a)},className:"p-button-text"}),Object(x.jsx)(b.a,{label:"Editar",icon:"pi pi-check",onClick:y,autoFocus:!0})]})),breakpoints:{"960px":"75vw","640px":"100vw"},style:{width:"60vw"},children:Object(x.jsxs)("div",{className:"p-fluid p-formgrid p-grid",children:[Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"nombres",children:"Raz\xf3n Social"}),Object(x.jsx)(p.a,{id:"nombres",type:"text  ",keyfilter:/^[a-zA-Z0-9- ]+$/,placeholder:"Nombres del cliente empresarial",value:g.nombres,onChange:function(e){return N(Object(u.a)(Object(u.a)({},g),{},{nombres:e.target.value}))}})]}),Object(x.jsx)("div",{className:"p-field p-col-12 p-md-6"}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"telefono",children:"Telefono"}),Object(x.jsx)(O.a,{id:"telefono",mask:"99999999",keyfilter:"int",placeholder:"Telefono del cliente empresarial",value:g.telefono,onChange:function(e){return N(Object(u.a)(Object(u.a)({},g),{},{telefono:e.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"correo",children:"Correo"}),Object(x.jsx)(p.a,{id:"correo",type:"text",keyfilter:"email",placeholder:"Correo del cliente empresarial",value:g.correo,onChange:function(e){return N(Object(u.a)(Object(u.a)({},g),{},{correo:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12",children:[Object(x.jsx)("label",{htmlFor:"direccion",children:"Direcci\xf3n"}),Object(x.jsx)(f.a,{id:"direccion",type:"text",rows:"3",placeholder:"Direccion de cliente empresarial",value:g.direccion,onChange:function(e){return N(Object(u.a)(Object(u.a)({},g),{},{direccion:e.target.value}))}})]})]})}),Object(x.jsx)(b.a,{tooltip:"Editar",tooltipOptions:{position:"top"},disabled:null===e.selected,icon:"pi pi-user-edit",className:"p-button-secondary",onClick:function(){null!==e.selected?(N(e.selected),n["".concat("dialog")](!0)):console.log("Sin Seleccion del usuario")}})]})},E=t(30);var P=function(e){var a,t=Object(i.useState)({idCuenta:null,idCliente:null,activo:!0,nombre:"",descripcion:""}),c=Object(r.a)(t,2),l=c[0],n=c[1],o=Object(i.useState)([]),s=Object(r.a)(o,2),O=s[0],f=s[1],g=Object(i.useState)(!1),N=Object(r.a)(g,2),y=N[0],C={dialog:N[1]},S=function(e){C["".concat(e)](!1)},w=Object(i.useRef)(null),T=function(){var a,t,i=O;i=(i=i.filter((function(e){return null===e.idCuenta}))).map((function(a){return Object(u.a)(Object(u.a)({},a),{},{idCliente:e.selectedCliente})})),console.log(i),k(i)?fetch(v.a.apiUrl+"/cuenta",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then((function(e){var a,t;e.ok?(S("dialog"),a="Cuentas Guardadas",t="",w.current.show({severity:"success",summary:a,detail:t,life:3e3})):function(e,a){w.current.show({severity:"error",summary:e,detail:a,life:3e3})}("Error del servidor","Response not ok POST /cuenta")})):(a="Cuenta incompleta",t="Favor completar nuevamente la tabla",w.current.show({severity:"warn",summary:a,detail:t,life:3e3}))},k=function(e){for(var a=0;a<e.length;a++){var t=e[a];if(null===t.idCliente||""===t.nombre||null===t.activo)return!1}return!0};return Object(x.jsxs)("div",{className:"Cuenta",children:[Object(x.jsx)(h.a,{ref:w}),Object(x.jsx)(m.a,{header:"Cuentas del Cliente",visible:y,onHide:function(){return S("dialog")},footer:(a="dialog",Object(x.jsxs)("div",{children:[Object(x.jsx)(b.a,{label:"Cancelar",icon:"pi pi-times",onClick:function(){return S(a)},className:"p-button-text"}),Object(x.jsx)(b.a,{label:"Guardar",icon:"pi pi-check",onClick:T,autoFocus:!0})]})),breakpoints:{"960px":"75vw","640px":"100vw"},style:{width:"60vw"},children:Object(x.jsxs)("div",{className:"p-grid p-nogutter",children:[Object(x.jsx)("div",{className:"p-col-12 p-md-12 p-field p-inputgroup",children:Object(x.jsx)(p.a,{id:"cuenta",placeholder:"Nombre de la cuenta",value:l.nombre,onChange:function(e){return n(Object(u.a)(Object(u.a)({},l),{},{nombre:e.target.value}))}})}),Object(x.jsxs)("div",{className:"p-col-12 p-md-12 p-field p-inputgroup",children:[Object(x.jsx)(p.a,{id:"descripcion",placeholder:"Descripcion de la cuenta",value:l.descripcion,onChange:function(e){return n(Object(u.a)(Object(u.a)({},l),{},{descripcion:e.target.value}))}}),Object(x.jsx)(b.a,{label:"Agregar",icon:"pi pi-plus",className:"p-button-success",onClick:function(){f([].concat(Object(E.a)(O),[l]))}})]}),Object(x.jsx)("div",{className:"p-col-12 p-md-12",children:Object(x.jsxs)(d.a,{value:O,showGridlines:!0,emptyMessage:"Sin cuentas...",children:[Object(x.jsx)(j.a,{field:"idCuenta",header:"ID"}),Object(x.jsx)(j.a,{field:"nombre",header:"Nombre"}),Object(x.jsx)(j.a,{field:"descripcion",header:"Descripci\xf3n"})]})})]})}),Object(x.jsx)(b.a,{tooltip:"Cuentas",tooltipOptions:{position:"top"},disabled:null===e.selected,icon:"pi pi-th-large",className:"p-button-warning",onClick:function(){null!==e.selectedCliente?(fetch(v.a.apiUrl+"/cuenta/"+e.selectedCliente.idCliente,{method:"GET",headers:{Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){f(e)})),C["".concat("dialog")](!0)):console.log("Sin Seleccion del usuario")}})]})};var M=function(){var e=Object(i.useState)([]),a=Object(r.a)(e,2),t=a[0],l=a[1],n=Object(i.useState)(null),o=Object(r.a)(n,2),s=o[0],u=o[1],b=Object(i.useState)([]),h=Object(r.a)(b,2),m=h[0],O=h[1],f=Object(i.useState)(null),g=Object(r.a)(f,2),N=g[0],y=g[1],C=Object(i.useState)(""),S=Object(r.a)(C,2),E=S[0],M=S[1];Object(i.useEffect)((function(){fetch(v.a.apiUrl+"/entidad",{method:"GET",headers:{Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){var a=e.filter((function(e){return 1!==e.idEntidad}));l(a)}))}),[]);var I=function(e){y(null),fetch(v.a.apiUrl+"/cliente/empresarial/"+e,{method:"GET",headers:{Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){return O(e)}))},U=Object(x.jsxs)("div",{className:"table-header p-d-flex",children:[Object(x.jsx)("div",{className:"p-mr-2",children:Object(x.jsx)(k,{updateTabla:I,entidad:s})}),Object(x.jsx)("div",{className:"p-mr-2",children:Object(x.jsx)(F,{updateTabla:I,entidad:s,selected:N})}),Object(x.jsx)("div",{className:"p-mr-2",children:Object(x.jsx)(P,{entidad:s,selectedCliente:N})}),Object(x.jsx)("div",{className:"p-mr-2",children:Object(x.jsx)(T,{updateTabla:I,entidad:s,selected:N})}),Object(x.jsx)("div",{className:"p-ml-auto",children:Object(x.jsxs)("span",{className:"p-input-icon-left",children:[Object(x.jsx)("i",{className:"pi pi-search"}),Object(x.jsx)(p.a,{type:"search",value:E,onChange:function(e){return M(e.target.value)},placeholder:"Buscar"})]})})]});return Object(x.jsx)("div",{className:"ClientesEmpresarial",children:Object(x.jsxs)("div",{className:"p-grid p-nogutter",children:[Object(x.jsx)("div",{className:"p-col-1 hide-sm"}),Object(x.jsxs)("div",{className:"p-col-10 max-in-sm datatable-responsive-demo",children:[Object(x.jsx)("h2",{children:"Raz\xf3n Social"}),Object(x.jsx)(w.a,{value:s,options:t,onChange:function(e){void 0!==e.value?(u(e.value),I(e.value.idEntidad)):(u(null),O([])),y(null)},optionLabel:"nombre",filter:!0,showClear:!0,filterBy:"nombre",placeholder:"Seleccionar Entidad",emptyMessage:"Sin entidades identificas",emptyFilterMessage:"Sin resultados",style:{width:"40vw"}}),Object(x.jsx)("h1",{children:"Clientes Empresarial"}),Object(x.jsxs)(d.a,{value:m,selectionMode:"single",selection:N,onSelectionChange:function(e){y(e.value)},dataKey:"idCliente",resizableColumns:!0,className:"p-datatable-responsive-demo",paginator:!0,rows:10,header:U,globalFilter:E,emptyMessage:"Sin registros, favor seleccionar una entidad con clientes",showGridlines:!0,children:[Object(x.jsx)(j.a,{field:"idCliente",header:"ID",headerStyle:{width:"8vw"},body:function(e){return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)("span",{className:"p-column-title",children:"ID:"}),e.idCliente]})},filter:!0,filterPlaceholder:"Buscar ID"}),Object(x.jsx)(j.a,{field:"fullName",header:"Cliente",headerStyle:{width:"24vw"},body:function(e){return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)("span",{className:"p-column-title",children:"Nombre:"}),e.fullName]})},filter:!0,filterPlaceholder:"Buscar",filterMatchMode:"contains"}),Object(x.jsx)(j.a,{field:"fullName",header:"Raz\xf3n Social",headerStyle:{width:"12vw"},body:function(e){return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)("span",{className:"p-column-title",children:"Raz\xf3n Social:"}),e.idEntidad.nombre]})},filter:!0,filterPlaceholder:"Buscar",filterMatchMode:"contains"}),Object(x.jsx)(j.a,{field:"telefono",header:"Telefono",headerStyle:{width:"12vw"},body:function(e){return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)("span",{className:"p-column-title",children:"Telefono:"}),e.telefono]})},filter:!0,filterPlaceholder:"Buscar Telefono",filterMatchMode:"contains"}),Object(x.jsx)(j.a,{field:"correo",header:"Correo",body:function(e){return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)("span",{className:"p-column-title",children:"Correo:"}),e.correo]})},filter:!0,filterPlaceholder:"Buscar Correo",filterMatchMode:"contains"})]})]}),Object(x.jsx)("div",{className:"p-col-1 hide-sm"})]})})};var I=function(){return Object(x.jsx)("div",{className:"General",children:Object(x.jsx)("h1",{children:"General"})})},U=t(39),D=t(24),R=t(96);var A=function(){var e=Object(i.useRef)(null),a=Object(s.g)(),t=Object(i.useState)({password:"",usuario:""}),c=Object(r.a)(t,2),l=c[0],n=c[1],o=Object(R.a)(["usuarioSession"]),d=Object(r.a)(o,2),j=(d[0],d[1]),m=function(t){fetch(v.a.apiUrl+"/info/auth",{method:"POST",headers:{Accept:"text/plain","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.text()})).then((function(t){var i,c;void 0!==t&&""!==t?(j("usuarioSession",t,{path:"/"}),a.push("/despacho")):(console.error("Sin token brindado"),i="Fallo en inicio",c="Usuario o contrase\xf1a invalidos",e.current.show({severity:"warn",summary:i,detail:c,life:3e3}))}))};return Object(x.jsxs)("div",{className:"Login",children:[Object(x.jsx)(h.a,{ref:e}),Object(x.jsx)("div",{className:"p-grid p-nogutter p-justify-center p-align-center",style:{height:"100vh"},children:Object(x.jsx)("div",{className:"Login-box p-col-11 p-shadow-5 p-md-6",children:Object(x.jsxs)("div",{className:"p-mx-5",children:[Object(x.jsx)("h1",{style:{textAlign:"center"},children:"Acceder a despacho"}),Object(x.jsxs)("div",{className:"p-fluid p-grid p-formgrid",children:[Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(x.jsx)("label",{htmlFor:"usuario",children:"Usuario"}),Object(x.jsx)(p.a,{id:"usuario",keyfilter:/^[a-zA-Z0-9_.]+$/,placeholder:"Nombre de usuario",value:l.usuario,onChange:function(e){return n(Object(u.a)(Object(u.a)({},l),{},{usuario:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(x.jsx)("label",{htmlFor:"password",children:"Contrase\xf1a"}),Object(x.jsx)(U.a,{id:"password",feedback:!1,toggleMask:!0,placeholder:"Clave de usuario",value:l.password,onChange:function(e){return n(Object(u.a)(Object(u.a)({},l),{},{password:e.target.value}))}})]}),Object(x.jsx)(D.a,{}),Object(x.jsx)("div",{className:"p-field p-col-12 p-md-6",children:Object(x.jsx)(b.a,{label:"Regresar",icon:"pi pi-undo",className:"p-button-lg p-button-secondary",onClick:function(){return a.push("/")}})}),Object(x.jsx)("div",{className:"p-field p-col-12 p-md-6",children:Object(x.jsx)(b.a,{label:"Acceder",icon:"pi pi-key",className:"p-button-lg p-button-help",onClick:function(){if(""===l.usuario||""===l.password)return a="Campos vacios",t="Usuario o contrase\xf1a vacios",void e.current.show({severity:"error",summary:a,detail:t,life:3e3});var a,t;m(l)}})}),Object(x.jsx)("div",{className:"p-field p-col-12 p-md-12"})]})]})})})]})},L=t(10),B={width:"100%",height:"60vh"},V={lat:13.9769016,lng:-89.5588493};var z=function(e){var a=Object(i.useState)(null),t=Object(r.a)(a,2),c=t[0],l=t[1],n=Object(i.useState)([]),o=Object(r.a)(n,2),s=o[0],d=o[1];return Object(x.jsxs)(L.f,{mapContainerStyle:B,center:V,zoom:14,onLoad:function(e){null!==e?l(e):console.log("mapInstance is not loaded yet!")},children:[Object(x.jsx)(L.a,{onLoad:function(e){d(e)},onPlaceChanged:function(){null!==s?(c.panTo(s.getPlace().geometry.location),e.addOrigen(s.getPlace())):console.log("Autocomplete is not loaded yet!")},children:Object(x.jsx)("input",{type:"text",placeholder:"Ingresar Origen",style:{boxSizing:"border-box",border:"1px solid transparent",width:"340px",height:"32px",padding:"0 12px",borderRadius:"3px",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.3)",fontSize:"14px",outline:"none",textOverflow:"ellipses",position:"absolute",left:"50%",marginLeft:"-120px",zIndex:3e3}})}),[Object(u.a)({},e.pasajero)].map((function(a,t){return Object(x.jsx)(L.h,{position:{lat:a.lat,lng:a.lng},title:a.nombres,draggable:!0,onDragEnd:function(a){var t={geometry:{location:{lat:a.latLng.lat,lng:a.latLng.lng}}};e.addOrigen(t)}},a.idPasajero)}))]})};var H=function(e){var a,t=Object(i.useRef)(null),c=Object(i.useState)(!1),l=Object(r.a)(c,2),n=l[0],o=l[1],s=Object(i.useState)(!1),d=Object(r.a)(s,2),j=d[0],g={visible:o,dialogMapa:d[1]},N=function(e){g["".concat(e)](!1)},y=function(e){g["".concat(e)](!0)},C=Object(i.useState)([]),S=Object(r.a)(C,2),T=S[0],k=S[1],F=Object(i.useState)({activo:!0,actualizado:null,alt:"0",apellidos:"",bloqueado:!1,codigo:"",correo:"",direccion:"",idCliente:null,idPasajero:null,lat:13.9778279,lng:-89.56391190000001,nombres:"",puesto:"",rfid:"",telefono:"",idCuenta:null,departamento:"",municipio:""}),E=Object(r.a)(F,2),P=E[0],M=E[1],I=function(){if(null!==P.idPasajero||""===P.nombres||""===P.apellidos||""===P.correo||""===P.telefono||""===P.codigo||""===P.rfid||""===P.direccion||""===P.puesto||""===P.departamento||""===P.municipio)return a="Campos incompletos",i="",void t.current.show({severity:"warn",summary:a,detail:i,life:3e3});var a,i,c=Object(u.a)(Object(u.a)({},P),{},{idCliente:e.cliente,actualizado:(new Date).toISOString()});console.log(c),fetch(v.a.apiUrl+"/pasajero",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(a){a.ok?(N("visible"),function(e,a){t.current.show({severity:"success",summary:e,detail:a,life:3e3})}("Pasajero creado",""),e.updateTabla(e.cliente.idCliente)):function(e,a){t.current.show({severity:"error",summary:e,detail:a,life:3e3})}("Error del servidro","Response not ok POST /pasajero/idCliente")}))};return Object(x.jsxs)("div",{className:"RegistrarPasajero",children:[Object(x.jsx)(h.a,{ref:t}),Object(x.jsx)(m.a,{header:"Registrar pasajero",visible:n,onHide:function(){return N("visible")},footer:(a="visible",Object(x.jsxs)("div",{children:[Object(x.jsx)(b.a,{label:"Cancelar",icon:"pi pi-times",onClick:function(){return N(a)},className:"p-button-text"}),Object(x.jsx)(b.a,{label:"Registrar",icon:"pi pi-check",onClick:I,autoFocus:!0})]})),breakpoints:{"960px":"75vw","640px":"100vw"},style:{width:"60vw"},children:Object(x.jsxs)("div",{className:"p-fluid p-formgrid p-grid",children:[Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"nombres",children:"Nombres"}),Object(x.jsx)(p.a,{id:"nombres",type:"text  ",keyfilter:/^[a-zA-Z ]+$/,placeholder:"Nombres del pasajero",value:P.nombres,onChange:function(e){return M(Object(u.a)(Object(u.a)({},P),{},{nombres:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"apellidos",children:"Apellidos"}),Object(x.jsx)(p.a,{id:"apellidos",type:"text",keyfilter:/^[a-zA-Z ]+$/,placeholder:"Apellidos del pasajero",value:P.apellidos,onChange:function(e){return M(Object(u.a)(Object(u.a)({},P),{},{apellidos:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"telefono",children:"Telefono"}),Object(x.jsx)(O.a,{id:"telefono",mask:"99999999",keyfilter:"int",placeholder:"Telefono del pasajero",value:P.telefono,onChange:function(e){return M(Object(u.a)(Object(u.a)({},P),{},{telefono:e.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"correo",children:"Correo"}),Object(x.jsx)(p.a,{id:"correo",type:"text",keyfilter:"email",placeholder:"Correo del pasajero",value:P.correo,onChange:function(e){return M(Object(u.a)(Object(u.a)({},P),{},{correo:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"codigo",children:"Codigo Trabajador"}),Object(x.jsx)(p.a,{id:"codigo",type:"text",placeholder:"Codigo del pasajero o trabajador",value:P.codigo,onChange:function(e){return M(Object(u.a)(Object(u.a)({},P),{},{codigo:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"rfid",children:"Tarjeta RFID"}),Object(x.jsx)(p.a,{id:"rfid",type:"text",placeholder:"Tarjeta RFID del pasajero",value:P.rfid,onChange:function(e){return M(Object(u.a)(Object(u.a)({},P),{},{rfid:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"puesto",children:"Puesto"}),Object(x.jsx)(p.a,{id:"puesto",type:"text",placeholder:"Puesto o Rol del pasajero",value:P.puesto,onChange:function(e){return M(Object(u.a)(Object(u.a)({},P),{},{puesto:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-6",children:[Object(x.jsx)("label",{htmlFor:"origen",children:"Punto Origen"}),Object(x.jsx)(b.a,{label:"Marcar Origen",icon:"pi pi-map",onClick:function(){return y("dialogMapa")}})]}),Object(x.jsxs)("div",{className:"p-field p-col-6",children:[Object(x.jsx)("label",{htmlFor:"cuenta",children:"Cuenta"}),Object(x.jsx)(w.a,{value:P.idCuenta,options:T,onChange:function(e){return M(Object(u.a)(Object(u.a)({},P),{},{idCuenta:e.value}))},optionLabel:"nombre",placeholder:"Seleccionar cuenta",emptyMessage:"Sin cuentas del cliente empresarial"})]}),Object(x.jsx)("div",{className:"p-field p-col-6"}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"departamente",children:"Departamento"}),Object(x.jsx)(p.a,{id:"puesto",type:"text",placeholder:"Departamento del pasajero",value:P.departamento,onChange:function(e){return M(Object(u.a)(Object(u.a)({},P),{},{departamento:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"municipio",children:"Municipio"}),Object(x.jsx)(p.a,{id:"puesto",type:"text",placeholder:"Municipio del pasajero",value:P.municipio,onChange:function(e){return M(Object(u.a)(Object(u.a)({},P),{},{municipio:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12",children:[Object(x.jsx)("label",{htmlFor:"direccion",children:"Direcci\xf3n"}),Object(x.jsx)(f.a,{id:"direccion",type:"text",rows:"3",placeholder:"Direccion de pasajero",value:P.direccion,onChange:function(e){return M(Object(u.a)(Object(u.a)({},P),{},{direccion:e.target.value}))}})]})]})}),Object(x.jsx)(b.a,{label:"Registrar",disabled:null===e.cliente,icon:"pi pi-user-plus",onClick:function(){fetch(v.a.apiUrl+"/cuenta/"+e.cliente.idCliente,{method:"GET",headers:{Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){k(e),y("visible")}))}}),Object(x.jsx)(m.a,{header:"Seleccionar origen",visible:j,onHide:function(){return N("dialogMapa")},footer:function(e){return Object(x.jsxs)("div",{children:[Object(x.jsx)(b.a,{label:"Cancelar",icon:"pi pi-times",onClick:function(){return N(e)},className:"p-button-text"}),Object(x.jsx)(b.a,{label:"Guardar",icon:"pi pi-check",onClick:function(){return N(e)},autoFocus:!0})]})}("dialogMapa"),breakpoints:{"960px":"75vw","640px":"100vw"},style:{width:"60vw"},children:Object(x.jsx)(z,{pasajero:P,addOrigen:function(e){void 0!==e.geometry.location.lat&&void 0!==e.geometry.location.lng?M(Object(u.a)(Object(u.a)({},P),{},{lat:e.geometry.location.lat(),lng:e.geometry.location.lng()})):console.log("Sin Objeto Place para guardar origen")}})})]})};var G=function(e){var a=Object(i.useState)(!1),t=Object(r.a)(a,2),c=t[0],l=t[1];return Object(x.jsxs)("div",{className:"RegistrarUsuario",children:[Object(x.jsx)(N.a,{visible:c,onHide:function(){return l(!1)},message:"Favor aceptar para eliminar pasajero",header:"Confirmaci\xf3n",icon:"pi pi-exclamation-triangle",accept:function(){fetch(v.a.apiUrl+"/pasajero/"+e.selected.idPasajero,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(a){a.ok?(l(!1),e.updateTabla(e.cliente.idCliente)):console.log("Respuesta de red OK pero respuesta HTTP no OK")})).catch((function(e){return console.error("Error:",e)}))},reject:function(){},breakpoints:{"960px":"75vw","640px":"100vw"},style:{width:"50vw"},acceptLabel:"Si"}),Object(x.jsx)(b.a,{disabled:null===e.selected,icon:"pi pi-trash",onClick:function(){return l(!0)},className:"p-button-danger"})]})};var K=function(e){var a,t=Object(i.useRef)(null),c=function(e,a){t.current.show({severity:"warn",summary:e,detail:a,life:3e3})},l=Object(i.useState)(!1),n=Object(r.a)(l,2),o=n[0],s=n[1],d=Object(i.useState)(!1),j=Object(r.a)(d,2),g=j[0],N={visible:s,dialogMapa:j[1]},y=function(e){N["".concat(e)](!1)},C=function(e){N["".concat(e)](!0)},S=Object(i.useState)(null),T=Object(r.a)(S,2),k=T[0],F=T[1],E=Object(i.useState)([]),P=Object(r.a)(E,2),M=P[0],I=P[1],U=function(){null!==k.idPasajero&&""!==k.nombres&&""!==k.apellidos&&""!==k.correo&&""!==k.telefono&&""!==k.codigo&&""!==k.rfid&&""!==k.direccion&&""!==k.puesto&&""!==k.departamento&&""!==k.municipio?null!==k&&null!==k.idPasajero?fetch(v.a.apiUrl+"/pasajero/"+e.selectedPasajero.idPasajero,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(k)}).then((function(a){var i,c;a.ok?(y("visible"),i="Modificado",c="Se ha modificado el pasajero",t.current.show({severity:"success",summary:i,detail:c,life:3e3}),e.updateTabla(e.cliente.idCliente)):(!function(e,a){t.current.show({severity:"error",summary:e,detail:a,life:3e3})}("Error del servidor","Response not ok"),console.log("Respuesta de red OK pero respuesta HTTP no OK modificar pasajero"))})):c("Seleccionar pasajero","Favor seleccionar un pasajero de la tabla"):c("Campos Incompletos","")};return Object(x.jsxs)("div",{className:"ModificarPasajero",children:[Object(x.jsx)(h.a,{ref:t}),Object(x.jsx)(m.a,{header:"Modificar pasajero",visible:o,onHide:function(){return y("visible")},footer:(a="visible",Object(x.jsxs)("div",{children:[Object(x.jsx)(b.a,{label:"Cancelar",icon:"pi pi-times",onClick:function(){return y(a)},className:"p-button-text"}),Object(x.jsx)(b.a,{label:"Modificar",icon:"pi pi-check",onClick:U,autoFocus:!0})]})),breakpoints:{"960px":"75vw","640px":"100vw"},style:{width:"60vw"},children:void 0!==k&&null!==k&&Object(x.jsxs)("div",{className:"p-fluid p-formgrid p-grid",children:[Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"nombres",children:"Nombres"}),Object(x.jsx)(p.a,{id:"nombres",type:"text  ",keyfilter:/^[a-zA-Z ]+$/,placeholder:"Nombres del pasajero",value:k.nombres,onChange:function(e){return F(Object(u.a)(Object(u.a)({},k),{},{nombres:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"apellidos",children:"Apellidos"}),Object(x.jsx)(p.a,{id:"apellidos",type:"text",keyfilter:/^[a-zA-Z ]+$/,placeholder:"Apellidos del pasajero",value:k.apellidos,onChange:function(e){return F(Object(u.a)(Object(u.a)({},k),{},{apellidos:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"telefono",children:"Telefono"}),Object(x.jsx)(O.a,{id:"telefono",mask:"99999999",keyfilter:"int",placeholder:"Telefono del pasajero",value:k.telefono,onChange:function(e){return F(Object(u.a)(Object(u.a)({},k),{},{telefono:e.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"correo",children:"Correo"}),Object(x.jsx)(p.a,{id:"correo",type:"text",keyfilter:"email",placeholder:"Correo del pasajero",value:k.correo,onChange:function(e){return F(Object(u.a)(Object(u.a)({},k),{},{correo:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"codigo",children:"Codigo Trabajador"}),Object(x.jsx)(p.a,{id:"codigo",type:"text",placeholder:"Codigo del pasajero o trabajador",value:k.codigo,onChange:function(e){return F(Object(u.a)(Object(u.a)({},k),{},{codigo:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"rfid",children:"Tarjeta RFID"}),Object(x.jsx)(p.a,{id:"rfid",type:"text",placeholder:"Tarjeta RFID del pasajero",value:k.rfid,onChange:function(e){return F(Object(u.a)(Object(u.a)({},k),{},{rfid:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"puesto",children:"Puesto"}),Object(x.jsx)(p.a,{id:"puesto",type:"text",placeholder:"Puesto o Rol del pasajero",value:k.puesto,onChange:function(e){return F(Object(u.a)(Object(u.a)({},k),{},{puesto:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-6",children:[Object(x.jsx)("label",{htmlFor:"origen",children:"Punto Origen"}),Object(x.jsx)(b.a,{label:"Marcar Origen",icon:"pi pi-map",onClick:function(){return C("dialogMapa")}})]}),Object(x.jsxs)("div",{className:"p-field p-col-6",children:[Object(x.jsx)("label",{htmlFor:"cuenta",children:"Cuenta"}),Object(x.jsx)(w.a,{value:k.idCuenta,options:M,onChange:function(e){return F(Object(u.a)(Object(u.a)({},k),{},{idCuenta:e.value}))},optionLabel:"nombre",placeholder:"Seleccionar cuenta",emptyMessage:"Sin cuentas del cliente empresarial"})]}),Object(x.jsx)("div",{className:"p-field p-col-6"}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"departamente",children:"Departamento"}),Object(x.jsx)(p.a,{id:"puesto",type:"text",placeholder:"Departamento del pasajero",value:k.departamento,onChange:function(e){return F(Object(u.a)(Object(u.a)({},k),{},{departamento:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"municipio",children:"Municipio"}),Object(x.jsx)(p.a,{id:"puesto",type:"text",placeholder:"Municipio del pasajero",value:k.municipio,onChange:function(e){return F(Object(u.a)(Object(u.a)({},k),{},{municipio:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12",children:[Object(x.jsx)("label",{htmlFor:"direccion",children:"Direcci\xf3n"}),Object(x.jsx)(f.a,{id:"direccion",type:"text",rows:"3",placeholder:"Direccion de pasajero",value:k.direccion,onChange:function(e){return F(Object(u.a)(Object(u.a)({},k),{},{direccion:e.target.value}))}})]})]})}),Object(x.jsx)(b.a,{label:"Editar",disabled:null===e.selectedUsuario,icon:"pi pi-user-edit",className:"p-button-secondary",onClick:function(){fetch(v.a.apiUrl+"/cuenta/"+e.cliente.idCliente,{method:"GET",headers:{Accept:"application/json"}}).then((function(e){return e.json()})).then((function(a){I(a);var t=Object(u.a)(Object(u.a)({},e.selectedPasajero),{},{lat:parseFloat(e.selectedPasajero.lat),lng:parseFloat(e.selectedPasajero.lng)});F(t),C("visible")}))}}),Object(x.jsx)(m.a,{header:"Seleccionar origen",visible:g,onHide:function(){return y("dialogMapa")},footer:function(e){return Object(x.jsxs)("div",{children:[Object(x.jsx)(b.a,{label:"Cancelar",icon:"pi pi-times",onClick:function(){return y(e)},className:"p-button-text"}),Object(x.jsx)(b.a,{label:"Guardar",icon:"pi pi-check",onClick:function(){return y(e)},autoFocus:!0})]})}("dialogMapa"),breakpoints:{"960px":"75vw","640px":"100vw"},style:{width:"60vw"},children:Object(x.jsx)(z,{pasajero:k,addOrigen:function(e){void 0!==e.geometry.location.lat&&void 0!==e.geometry.location.lng?F(Object(u.a)(Object(u.a)({},k),{},{lat:e.geometry.location.lat(),lng:e.geometry.location.lng()})):console.log("Sin Objeto Place para guardar origen")}})})]})};var J=function(){var e=Object(i.useState)([]),a=Object(r.a)(e,2),t=a[0],l=a[1],n=Object(i.useState)(null),o=Object(r.a)(n,2),s=o[0],u=o[1],b=Object(i.useState)([]),h=Object(r.a)(b,2),m=h[0],O=h[1],f=Object(i.useState)(null),g=Object(r.a)(f,2),N=g[0],y=g[1],C=Object(i.useState)(""),S=Object(r.a)(C,2),T=S[0],k=S[1];Object(i.useEffect)((function(){fetch(v.a.apiUrl+"/cliente/empresarial",{method:"GET",headers:{Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){return l(e)})).catch((function(e){return console.error("Error:",e)}))}),[]);var F=function(e){fetch(v.a.apiUrl+"/pasajero/cliente/"+e,{method:"GET",headers:{Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){return O(e)})),y(null)},E=Object(x.jsxs)("div",{className:"table-header p-d-flex",children:[Object(x.jsx)("div",{className:"p-mr-2",children:Object(x.jsx)(H,{updateTabla:F,cliente:s})}),Object(x.jsx)("div",{className:"p-mr-2",children:Object(x.jsx)(K,{updateTabla:F,selectedPasajero:N,cliente:s})}),Object(x.jsx)("div",{className:"p-mr-2",children:Object(x.jsx)(G,{updateTabla:F,selected:N,cliente:s})}),Object(x.jsx)("div",{className:"p-ml-auto",children:Object(x.jsxs)("span",{className:"p-input-icon-left",children:[Object(x.jsx)("i",{className:"pi pi-search"}),Object(x.jsx)(p.a,{type:"search",value:T,onChange:function(e){return k(e.target.value)},placeholder:"Buscar"})]})})]});return Object(x.jsxs)("div",{className:"Pasajeros",children:[Object(x.jsxs)("div",{className:"p-grid",children:[Object(x.jsx)("div",{className:"p-col-1 hide-sm"}),Object(x.jsxs)("div",{className:"p-col-10 max-in-sm datatable-responsive-demo",children:[Object(x.jsx)("h2",{children:"Seleccionar Cliente Empresarial"}),Object(x.jsx)(w.a,{value:s,options:t,onChange:function(e){void 0!==e.value?(u(e.value),F(e.value.idCliente)):(u(null),O([])),y(null)},optionLabel:"nombres",filter:!0,showClear:!0,filterBy:"nombres",placeholder:"Seleccionar cliente empresarial",emptyMessage:"Sin cliente empresarial identificas",emptyFilterMessage:"Sin resultados",style:{width:"40vw"}}),Object(x.jsx)("h1",{children:"Pasajeros"}),Object(x.jsxs)(d.a,{value:m,selectionMode:"single",selection:N,onSelectionChange:function(e){return y(e.value)},dataKey:"idPasajero",className:"p-datatable-responsive-demo",paginator:!0,rows:10,header:E,globalFilter:T,emptyMessage:"Sin registros, favor seleccionar una entidad de clientes empresarial",showGridlines:!0,children:[Object(x.jsx)(j.a,{field:"codigo",header:"Codigo",body:function(e){return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)("span",{className:"p-column-title",children:"Codigo:"}),e.codigo]})},filter:!0,filterPlaceholder:"Buscar"}),Object(x.jsx)(j.a,{field:"nombres",header:"Nombres",body:function(e){return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)("span",{className:"p-column-title",children:"Nombres:"}),e.nombres]})},filter:!0,filterPlaceholder:"Buscar",filterMatchMode:"contains"}),Object(x.jsx)(j.a,{field:"apellidos",header:"Apellidos",body:function(e){return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)("span",{className:"p-column-title",children:"Apellidos:"}),e.apellidos]})},filter:!0,filterPlaceholder:"Buscar",filterMatchMode:"contains"}),Object(x.jsx)(j.a,{field:"puesto",header:"Puesto",body:function(e){return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)("span",{className:"p-column-title",children:"Puesto:"}),e.puesto]})},filter:!0,filterPlaceholder:"Buscar Telefono",filterMatchMode:"contains"}),Object(x.jsx)(j.a,{field:"telefono",header:"Telefono",body:function(e){return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)("span",{className:"p-column-title",children:"Telefono:"}),e.telefono]})},filter:!0,filterPlaceholder:"Buscar Telefono",filterMatchMode:"contains"}),Object(x.jsx)(j.a,{field:"bloqueado",header:"Estado",body:function(e){return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)("span",{className:"p-column-title",children:"Estado:"}),e.bloqueado?"Bloqueado":"Activo"]})},filter:!0,filterPlaceholder:"Buscar Correo",filterMatchMode:"contains"})]})]})]}),Object(x.jsx)("div",{className:"p-col-1 hide-sm"})]})};var q=function(e){var a=Object(i.useRef)(null),t=Object(i.useState)(!1),c=Object(r.a)(t,2),l=c[0],n={visible:c[1]},o=function(e){n["".concat(e)](!1)},s=Object(i.useState)([]),d=Object(r.a)(s,2),j=d[0],g=d[1],N=Object(i.useState)({activo:!0,apellidos:"",bloqueado:!1,correo:"",direccion:"",idTipoUsuario:null,idUsuario:null,idVehiculo:null,nombres:"",password:"",telefono:"",token:"-",usuario:""}),y=Object(r.a)(N,2),C=y[0],S=y[1];Object(i.useEffect)((function(){fetch(v.a.apiUrl+"/tipousuario",{method:"GET",headers:{Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){return g(e)}))}),[]);var T,k=function(){if(console.log(C),null!==C.idUsuario||null===C.idTipoUsuario||""===C.nombres||""===C.apellidos||""===C.correo||""===C.usuario||""===C.password||""===C.telefono||""===C.direccion)return t="Campos incompletos",i="",void a.current.show({severity:"warn",summary:t,detail:i,life:3e3});var t,i;fetch(v.a.apiUrl+"/usuario",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(C)}).then((function(t){t.ok?(o("visible"),function(e,t){a.current.show({severity:"success",summary:e,detail:t,life:3e3})}("Usuario creado",""),e.updateTabla()):function(e,t){a.current.show({severity:"error",summary:e,detail:t,life:3e3})}("Error del servidro","Response not ok POST /usuario")}))};return Object(x.jsxs)("div",{className:"RegistrarUsuario",children:[Object(x.jsx)(h.a,{ref:a}),Object(x.jsx)(m.a,{header:"Registrar usuario",visible:l,onHide:function(){return o("visible")},footer:(T="visible",Object(x.jsxs)("div",{children:[Object(x.jsx)(b.a,{label:"Cancelar",icon:"pi pi-times",onClick:function(){return o(T)},className:"p-button-text"}),Object(x.jsx)(b.a,{label:"Registrar",icon:"pi pi-check",onClick:k,autoFocus:!0})]})),breakpoints:{"960px":"75vw","640px":"100vw"},style:{width:"60vw"},children:Object(x.jsxs)("div",{className:"p-fluid p-formgrid p-grid",children:[Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"nombres",children:"Nombres"}),Object(x.jsx)(p.a,{id:"nombres",type:"text  ",keyfilter:/^[a-zA-Z ]+$/,placeholder:"Nombres del usuario",value:C.nombres,onChange:function(e){return S(Object(u.a)(Object(u.a)({},C),{},{nombres:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"apellidos",children:"Apellidos"}),Object(x.jsx)(p.a,{id:"apellidos",type:"text",keyfilter:/^[a-zA-Z ]+$/,placeholder:"Apellidos del usuario",value:C.apellidos,onChange:function(e){return S(Object(u.a)(Object(u.a)({},C),{},{apellidos:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"telefono",children:"Telefono"}),Object(x.jsx)(O.a,{id:"telefono",mask:"99999999",keyfilter:"int",placeholder:"Telefono del usuario",value:C.telefono,onChange:function(e){return S(Object(u.a)(Object(u.a)({},C),{},{telefono:e.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"correo",children:"Correo"}),Object(x.jsx)(p.a,{id:"correo",type:"text",keyfilter:"email",placeholder:"Correo del usuario",value:C.correo,onChange:function(e){return S(Object(u.a)(Object(u.a)({},C),{},{correo:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"rol_usuario",children:"Rol del usuario"}),Object(x.jsx)(w.a,{inputId:"rol_usuario",value:C.idTipoUsuario,options:j,onChange:function(e){return S(Object(u.a)(Object(u.a)({},C),{},{idTipoUsuario:e.value}))},placeholder:"Seleccionar rol",optionLabel:"nombre"})]}),Object(x.jsx)("div",{className:"p-field p-col-12 p-md-6"}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"usuario",children:"Usuario"}),Object(x.jsx)(p.a,{id:"usuario",type:"text",keyfilter:"alphanum",placeholder:"Nombre de usuario",value:C.usuario,onChange:function(e){return S(Object(u.a)(Object(u.a)({},C),{},{usuario:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"password",children:"Clave"}),Object(x.jsx)(U.a,{id:"password",feedback:!1,toggleMask:!0,placeholder:"Clave de usuario",value:C.password,onChange:function(e){return S(Object(u.a)(Object(u.a)({},C),{},{password:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12",children:[Object(x.jsx)("label",{htmlFor:"direccion",children:"Direcci\xf3n"}),Object(x.jsx)(f.a,{id:"direccion",type:"text",rows:"3",placeholder:"Direccion de usuario",value:C.direccion,onChange:function(e){return S(Object(u.a)(Object(u.a)({},C),{},{direccion:e.target.value}))}})]})]})}),Object(x.jsx)(b.a,{label:"Registrar",icon:"pi pi-user-plus",onClick:function(){return function(e){n["".concat(e)](!0)}("visible")}})]})},Z=t(64);var $=function(e){var a=Object(i.useRef)(null),t=function(e,t){a.current.show({severity:"warn",summary:e,detail:t,life:3e3})},c=Object(i.useState)(!1),l=Object(r.a)(c,2),n=l[0],o={visible:l[1]},s=function(e){o["".concat(e)](!1)},d=Object(i.useState)([]),j=Object(r.a)(d,2),g=j[0],N=j[1],y=Object(i.useState)(null),C=Object(r.a)(y,2),S=C[0],T=C[1];Object(i.useEffect)((function(){fetch(v.a.apiUrl+"/tipousuario",{method:"GET",headers:{Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){return N(e)}))}),[]),Object(i.useEffect)((function(){fetch(v.a.apiUrl+"/tipousuario",{method:"GET",headers:{Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){return N(e)}))}),[]);var k,F=function(){null!==S.idUsuario&&null!==S.idTipoUsuario&&""!==S.nombres&&""!==S.apellidos&&""!==S.correo&&""!==S.usuario&&""!==S.password&&""!==S.telefono&&""!==S.direccion?null!==S&&null!==S.idUsuario?fetch(v.a.apiUrl+"/usuario/"+e.selectedUsuario.idUsuario,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(S)}).then((function(t){var i,c;t.ok?(s("visible"),i="Modificado",c="Se ha modificado el usario",a.current.show({severity:"success",summary:i,detail:c,life:3e3}),e.updateTabla()):(!function(e,t){a.current.show({severity:"error",summary:e,detail:t,life:3e3})}("Error del servidor","Response not ok"),console.log("Respuesta de red OK pero respuesta HTTP no OK modificarUsuario"))})):t("Seleccionar usuario","Favor seleccionar un usuario de la tabla"):t("Campos Incompletos","")};return Object(x.jsxs)("div",{className:"ModificarUsuario",children:[Object(x.jsx)(h.a,{ref:a}),Object(x.jsx)(m.a,{header:"Modificar usuario",visible:n,onHide:function(){return s("visible")},footer:(k="visible",Object(x.jsxs)("div",{children:[Object(x.jsx)(b.a,{label:"Cancelar",icon:"pi pi-times",onClick:function(){return s(k)},className:"p-button-text"}),Object(x.jsx)(b.a,{label:"Modificar",icon:"pi pi-check",onClick:F,autoFocus:!0})]})),breakpoints:{"960px":"75vw","640px":"100vw"},style:{width:"60vw"},children:void 0!==S&&null!==S&&Object(x.jsxs)("div",{className:"p-fluid p-formgrid p-grid",children:[Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"nombres",children:"Nombres"}),Object(x.jsx)(p.a,{id:"nombres",type:"text  ",keyfilter:/^[a-zA-Z ]+$/,placeholder:"Nombres del usuario",value:S.nombres,onChange:function(e){return T(Object(u.a)(Object(u.a)({},S),{},{nombres:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"apellidos",children:"Apellidos"}),Object(x.jsx)(p.a,{id:"apellidos",type:"text",keyfilter:/^[a-zA-Z ]+$/,placeholder:"Apellidos del usuario",value:S.apellidos,onChange:function(e){return T(Object(u.a)(Object(u.a)({},S),{},{apellidos:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"telefono",children:"Telefono"}),Object(x.jsx)(O.a,{id:"telefono",mask:"99999999",keyfilter:"int",placeholder:"Telefono del usuario",value:S.telefono,onChange:function(e){return T(Object(u.a)(Object(u.a)({},S),{},{telefono:e.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"correo",children:"Correo"}),Object(x.jsx)(p.a,{id:"correo",type:"text",keyfilter:"email",placeholder:"Correo del usuario",value:S.correo,onChange:function(e){return T(Object(u.a)(Object(u.a)({},S),{},{correo:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"rol_usuario",children:"Rol del usuario"}),Object(x.jsx)(w.a,{inputId:"rol_usuario",value:S.idTipoUsuario,options:g,onChange:function(e){return T(Object(u.a)(Object(u.a)({},S),{},{idTipoUsuario:e.value}))},placeholder:"Seleccionar rol",optionLabel:"nombre"})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-3",children:[Object(x.jsx)("label",{htmlFor:"bloqueado",children:"Estado"}),Object(x.jsx)("br",{}),Object(x.jsx)(Z.a,{id:"bloqueado",checked:S.bloqueado,onChange:function(e){return T(Object(u.a)(Object(u.a)({},S),{},{bloqueado:e.value}))},offLabel:"Activa",onLabel:"Bloqueada",offIcon:"pi pi-check",onIcon:"pi pi-times",style:{backgroundColor:"#b62b70"}})]}),Object(x.jsx)("div",{className:"p-field p-col-12 p-md-3"}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"usuario",children:"Usuario"}),Object(x.jsx)(p.a,{id:"usuario",type:"text",keyfilter:"alphanum",placeholder:"Nombre de usuario",value:S.usuario,onChange:function(e){return T(Object(u.a)(Object(u.a)({},S),{},{usuario:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"password",children:"Clave"}),Object(x.jsx)(U.a,{id:"password",feedback:!1,toggleMask:!0,placeholder:"Clave de usuario",value:S.password,onChange:function(e){return T(Object(u.a)(Object(u.a)({},S),{},{password:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12",children:[Object(x.jsx)("label",{htmlFor:"direccion",children:"Direcci\xf3n"}),Object(x.jsx)(f.a,{id:"direccion",type:"text",rows:"3",placeholder:"Direccion de usuario",value:S.direccion,onChange:function(e){return T(Object(u.a)(Object(u.a)({},S),{},{direccion:e.target.value}))}})]})]})}),Object(x.jsx)(b.a,{label:"Editar",disabled:null===e.selectedUsuario,icon:"pi pi-user-edit",className:"p-button-secondary",onClick:function(){null!==e.selectedUsuario?(T(e.selectedUsuario),o["".concat("visible")](!0)):console.log("Sin Seleccion del usuario")}})]})};var _=function(e){var a=Object(i.useState)(!1),t=Object(r.a)(a,2),c=t[0],l=t[1];return Object(x.jsxs)("div",{className:"RegistrarUsuario",children:[Object(x.jsx)(N.a,{visible:c,onHide:function(){return l(!1)},message:"Favor aceptar para eliminar el usuario",header:"Confirmaci\xf3n",icon:"pi pi-exclamation-triangle",accept:function(){fetch(v.a.apiUrl+"/usuario/"+e.selectedUsuario.idUsuario,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(a){a.ok?(l(!1),e.updateTabla()):console.log("Respuesta de red OK pero respuesta HTTP no OK")})).catch((function(e){return console.error("Error:",e)}))},reject:function(){},breakpoints:{"960px":"75vw","640px":"100vw"},style:{width:"50vw"},acceptLabel:"Si"}),Object(x.jsx)(b.a,{disabled:null===e.selectedUsuario,icon:"pi pi-trash",onClick:function(){return l(!0)},className:"p-button-danger"})]})};var W=function(){var e=Object(i.useState)([]),a=Object(r.a)(e,2),t=a[0],l=a[1],n=Object(i.useState)(null),o=Object(r.a)(n,2),s=o[0],u=o[1],b=Object(i.useState)(""),h=Object(r.a)(b,2),m=h[0],O=h[1];Object(i.useEffect)((function(){f()}),[]);var f=function(){u(null),fetch(v.a.apiUrl+"/usuario",{method:"GET",headers:{Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){return l(e)}))},g=Object(x.jsxs)("div",{className:"table-header p-d-flex",children:[Object(x.jsx)("div",{className:"p-mr-2",children:Object(x.jsx)(q,{updateTabla:f})}),Object(x.jsx)("div",{className:"p-mr-2",children:Object(x.jsx)($,{updateTabla:f,selectedUsuario:s})}),Object(x.jsx)("div",{className:"p-mr-2",children:Object(x.jsx)(_,{updateTabla:f,selectedUsuario:s})}),Object(x.jsx)("div",{className:"p-ml-auto",children:Object(x.jsxs)("span",{className:"p-input-icon-left",children:[Object(x.jsx)("i",{className:"pi pi-search"}),Object(x.jsx)(p.a,{type:"search",value:m,onChange:function(e){return O(e.target.value)},placeholder:"Buscar"})]})})]});return Object(x.jsx)("div",{className:"Usuarios",children:Object(x.jsxs)("div",{className:"p-grid",children:[Object(x.jsx)("div",{className:"p-col-1 hide-sm"}),Object(x.jsxs)("div",{className:"p-col-10 max-in-sm datatable-responsive-demo",children:[Object(x.jsx)("h1",{children:"Usuarios"}),Object(x.jsxs)(d.a,{value:t,selectionMode:"single",selection:s,onSelectionChange:function(e){return u(e.value)},dataKey:"idUsuario",className:"p-datatable-responsive-demo",paginator:!0,rows:10,header:g,globalFilter:m,emptyMessage:"Sin registros encontrados",showGridlines:!0,children:[Object(x.jsx)(j.a,{field:"idUsuario",header:"ID",body:function(e){return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)("span",{className:"p-column-title",children:"ID:"}),e.idUsuario]})},filter:!0,filterPlaceholder:"Buscar ID"}),Object(x.jsx)(j.a,{field:"nombres",header:"Nombres",body:function(e){return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)("span",{className:"p-column-title",children:"Nombres:"}),e.nombres]})},filter:!0,filterPlaceholder:"Buscar Nombres",filterMatchMode:"contains"}),Object(x.jsx)(j.a,{field:"apellidos",header:"Apellidos",body:function(e){return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)("span",{className:"p-column-title",children:"Apellidos:"}),e.apellidos]})},filter:!0,filterPlaceholder:"Buscar Apellidos",filterMatchMode:"contains"}),Object(x.jsx)(j.a,{field:"usuario",header:"Usuario",body:function(e){return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)("span",{className:"p-column-title",children:"Usuario:"}),e.usuario]})},filter:!0,filterPlaceholder:"Buscar Usuario",filterMatchMode:"contains"}),Object(x.jsx)(j.a,{field:"telefono",header:"Telefono",body:function(e){return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)("span",{className:"p-column-title",children:"Telefono:"}),e.telefono]})},filter:!0,filterPlaceholder:"Buscar Telefono",filterMatchMode:"contains"}),Object(x.jsx)(j.a,{field:"estado",header:"Estado",body:function(e){return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)("span",{className:"p-column-title",children:"Estado:"}),e.bloqueado?"Bloqueado":"Activo"]})},filter:!0,filterPlaceholder:"Buscar Telefono",filterMatchMode:"contains"}),Object(x.jsx)(j.a,{field:"idTipoUsuario",header:"Rol",body:function(e){var a=void 0!==e.idTipoUsuario&&null!==e.idTipoUsuario?e.idTipoUsuario.nombre:"-";return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)("span",{className:"p-column-title",children:"Rol:"}),a]})},filter:!0,filterPlaceholder:"Rol",filterMatchMode:"contains"})]})]}),Object(x.jsx)("div",{className:"p-col-1 hide-sm"})]})})},X=t(48),Y=t(22);var Q=function(e){var a=Object(i.useState)(!1),t=Object(r.a)(a,2),c=t[0],l={dialog:t[1]},n=function(e){l["".concat(e)](!1)},o=Object(i.useRef)(null),s=Object(i.useState)([]),d=Object(r.a)(s,2),j=d[0],f=d[1],g=Object(i.useState)({activo:!0,capacidad:0,color:"000000",idTipoVehiculo:null,idVehiculo:null,incapacitados:0,maletas:0,marca:"",modelo:"",placa:""}),N=Object(r.a)(g,2),y=N[0],C=N[1];Object(i.useEffect)((function(){fetch(v.a.apiUrl+"/tipovehiculo",{method:"GET",headers:{Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){f(e)}))}),[]);var S,T=function(){if(null!==y.idVehiculo||null===y.idTipoVehiculo||(""===y.placa||""===y.marca||""===y.modelo||""===y.color||y.capacidad<=0))return a="Favor completar los campos",t="",void o.current.show({severity:"warn",summary:a,detail:t,life:3e3});var a,t;fetch(v.a.apiUrl+"/vehiculo",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(y)}).then((function(a){a.ok?(n("dialog"),function(e,a){o.current.show({severity:"success",summary:e,detail:a,life:3e3})}("Vehiculo registrado",""),e.updateTabla()):function(e,a){o.current.show({severity:"error",summary:e,detail:a,life:3e3})}("Error del servidor","Response not ok POST /vehiculo")}))};return Object(x.jsxs)("div",{className:"RegistrarVehiculo",children:[Object(x.jsx)(h.a,{ref:o}),Object(x.jsx)(m.a,{header:"Registrar Vehiculo",visible:c,onHide:function(){return n("dialog")},footer:(S="dialog",Object(x.jsxs)("div",{children:[Object(x.jsx)(b.a,{label:"Cancelar",icon:"pi pi-times",onClick:function(){return n(S)},className:"p-button-text"}),Object(x.jsx)(b.a,{label:"Registrar",icon:"pi pi-check",onClick:T,autoFocus:!0})]})),breakpoints:{"960px":"75vw","640px":"100vw"},style:{width:"60vw"},children:Object(x.jsxs)("div",{className:"p-fluid p-formgrid p-grid",children:[Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"placa",children:"Placa"}),Object(x.jsx)(O.a,{id:"placa",mask:"a999-999",placeholder:"Placa del vehiculo",value:y.placa,onChange:function(e){return C(Object(u.a)(Object(u.a)({},y),{},{placa:e.value}))}})]}),Object(x.jsx)("div",{className:"p-field p-col-12 p-md-6"}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"marca",children:"Marca"}),Object(x.jsx)(p.a,{id:"marca",type:"text",keyfilter:/^[a-zA-Z ]+$/,placeholder:"Toyota, Honda, BMW, etc",value:y.marca,onChange:function(e){return C(Object(u.a)(Object(u.a)({},y),{},{marca:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"modelo",children:"Modelo"}),Object(x.jsx)(p.a,{id:"modelo",type:"text",keyfilter:/^[a-zA-Z ]+$/,placeholder:"Civi 2020, Yaris 2020, etc",value:y.modelo,onChange:function(e){return C(Object(u.a)(Object(u.a)({},y),{},{modelo:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-7",children:[Object(x.jsx)("label",{htmlFor:"rel_vehiculo",children:"Usos del vehiculo"}),Object(x.jsx)(w.a,{inputId:"rel_vehiculo",value:y.idTipoVehiculo,options:j,onChange:function(e){return C(Object(u.a)(Object(u.a)({},y),{},{idTipoVehiculo:e.value}))},placeholder:"Seleccionar uso",optionLabel:"nombre"})]}),Object(x.jsx)("div",{className:"p-field p-col-12 p-md-5"}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-2",children:[Object(x.jsx)("label",{htmlFor:"capacidad",children:"Capacidad"}),Object(x.jsx)("br",{}),Object(x.jsx)(Y.a,{id:"capacidad",value:y.capacidad,onValueChange:function(e){return C(Object(u.a)(Object(u.a)({},y),{},{capacidad:e.value}))},mode:"decimal",showButtons:!0,buttonLayout:"vertical",style:{width:"5em"},min:0,decrementButtonClassName:"p-button-secondary",incrementButtonClassName:"p-button-secondary",incrementButtonIcon:"pi pi-plus",decrementButtonIcon:"pi pi-minus"})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-2",children:[Object(x.jsx)("label",{htmlFor:"maletas",children:"Maletas"}),Object(x.jsx)("br",{}),Object(x.jsx)(Y.a,{id:"maletas",value:y.maletas,onValueChange:function(e){return C(Object(u.a)(Object(u.a)({},y),{},{maletas:e.value}))},mode:"decimal",showButtons:!0,buttonLayout:"vertical",style:{width:"5em"},min:0,decrementButtonClassName:"p-button-secondary",incrementButtonClassName:"p-button-secondary",incrementButtonIcon:"pi pi-plus",decrementButtonIcon:"pi pi-minus"})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-3",children:[Object(x.jsx)("label",{htmlFor:"incapacitados",children:"Incapacitados"}),Object(x.jsx)("br",{}),Object(x.jsx)(Y.a,{id:"incapacitados",value:y.incapacitados,onValueChange:function(e){return C(Object(u.a)(Object(u.a)({},y),{},{incapacitados:e.value}))},mode:"decimal",showButtons:!0,buttonLayout:"vertical",style:{width:"5em"},min:0,decrementButtonClassName:"p-button-secondary",incrementButtonClassName:"p-button-secondary",incrementButtonIcon:"pi pi-plus",decrementButtonIcon:"pi pi-minus"})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-2",children:[Object(x.jsx)("label",{htmlFor:"rel_vehiculo",children:"Color"}),Object(x.jsx)("br",{}),Object(x.jsx)(X.a,{value:y.color,onChange:function(e){return C(Object(u.a)(Object(u.a)({},y),{},{color:e.value}))}})]})]})}),Object(x.jsx)(b.a,{label:"Registrar",icon:"pi pi-plus-circle",onClick:function(){return function(e){l["".concat(e)](!0)}("dialog")}})]})};var ee=function(e){var a=Object(i.useState)(!1),t=Object(r.a)(a,2),c=t[0],l=t[1];return Object(x.jsxs)("div",{className:"BorrarVehiculo",children:[Object(x.jsx)(N.a,{visible:c,onHide:function(){return l(!1)},message:"Favor aceptar para eliminar el vehiculo",header:"Confirmaci\xf3n",icon:"pi pi-exclamation-triangle",accept:function(){fetch(v.a.apiUrl+"/vehiculo/"+e.selected.idVehiculo,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(a){a.ok?(l(!1),e.updateTabla()):console.log("Respuesta de red OK pero respuesta HTTP no OK")})).catch((function(e){return console.error("Error:",e)}))},reject:function(){},breakpoints:{"960px":"75vw","640px":"100vw"},style:{width:"50vw"},acceptLabel:"Si"}),Object(x.jsx)(b.a,{disabled:null===e.selected,icon:"pi pi-trash",onClick:function(){return l(!0)},className:"p-button-danger"})]})},ae=t(65);var te=function(e){var a=Object(i.useState)(!1),t=Object(r.a)(a,2),c=t[0],l={dialog:t[1]},n=function(e){l["".concat(e)](!1)},o=Object(i.useRef)(null),s=Object(i.useState)([]),d=Object(r.a)(s,2),j=d[0],f=d[1],g=Object(i.useState)(null),N=Object(r.a)(g,2),y=N[0],C=N[1];Object(i.useEffect)((function(){fetch(v.a.apiUrl+"/tipovehiculo",{method:"GET",headers:{Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){f(e)}))}),[]);var S,T=function(){if(null===y.idVehiculo||null===y.idTipoVehiculo||(""===y.placa||""===y.marca||""===y.modelo||""===y.color||y.capacidad<=0))return a="Favor completar los campos",t="",void o.current.show({severity:"warn",summary:a,detail:t,life:3e3});var a,t;fetch(v.a.apiUrl+"/vehiculo/"+e.selected.idVehiculo,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(y)}).then((function(a){a.ok?(n("dialog"),function(e,a){o.current.show({severity:"success",summary:e,detail:a,life:3e3})}("Vehiculo Editado",""),e.updateTabla()):function(e,a){o.current.show({severity:"error",summary:e,detail:a,life:3e3})}("Error del servidor","Response not ok POST /vehiculo")}))};return Object(x.jsxs)("div",{className:"RegistrarVehiculo",children:[Object(x.jsx)(h.a,{ref:o}),Object(x.jsx)(m.a,{header:"Modificar Vehiculo",visible:c,onHide:function(){return n("dialog")},footer:(S="dialog",Object(x.jsxs)("div",{children:[Object(x.jsx)(b.a,{label:"Cancelar",icon:"pi pi-times",onClick:function(){return n(S)},className:"p-button-text"}),Object(x.jsx)(b.a,{label:"Editar",icon:"pi pi-check",onClick:T,autoFocus:!0})]})),breakpoints:{"960px":"75vw","640px":"100vw"},style:{width:"60vw"},children:void 0!==y&&null!==y&&Object(x.jsxs)("div",{className:"p-fluid p-formgrid p-grid",children:[Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"placa",children:"Placa"}),Object(x.jsx)(O.a,{id:"placa",mask:"a999-999",placeholder:"Placa del vehiculo",value:y.placa,onChange:function(e){return C(Object(u.a)(Object(u.a)({},y),{},{placa:e.value}))}})]}),Object(x.jsx)("div",{className:"p-field p-col-12 p-md-6"}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"marca",children:"Marca"}),Object(x.jsx)(p.a,{id:"marca",type:"text",keyfilter:/^[a-zA-Z ]+$/,placeholder:"Toyota, Honda, BMW, etc",value:y.marca,onChange:function(e){return C(Object(u.a)(Object(u.a)({},y),{},{marca:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"modelo",children:"Modelo"}),Object(x.jsx)(p.a,{id:"modelo",type:"text",keyfilter:/^[a-zA-Z ]+$/,placeholder:"Civi 2020, Yaris 2020, etc",value:y.modelo,onChange:function(e){return C(Object(u.a)(Object(u.a)({},y),{},{modelo:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-7",children:[Object(x.jsx)("label",{htmlFor:"rel_vehiculo",children:"Usos del vehiculo"}),Object(x.jsx)(w.a,{inputId:"rel_vehiculo",value:y.idTipoVehiculo,options:j,onChange:function(e){return C(Object(u.a)(Object(u.a)({},y),{},{idTipoVehiculo:e.value}))},placeholder:"Seleccionar uso",optionLabel:"nombre"})]}),Object(x.jsx)("div",{className:"p-field p-col-12 p-md-5"}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-2",children:[Object(x.jsx)("label",{htmlFor:"capacidad",children:"Capacidad"}),Object(x.jsx)("br",{}),Object(x.jsx)(Y.a,{id:"capacidad",value:y.capacidad,onValueChange:function(e){return C(Object(u.a)(Object(u.a)({},y),{},{capacidad:e.value}))},mode:"decimal",showButtons:!0,buttonLayout:"vertical",style:{width:"5em"},min:0,decrementButtonClassName:"p-button-secondary",incrementButtonClassName:"p-button-secondary",incrementButtonIcon:"pi pi-plus",decrementButtonIcon:"pi pi-minus"})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-2",children:[Object(x.jsx)("label",{htmlFor:"maletas",children:"Maletas"}),Object(x.jsx)("br",{}),Object(x.jsx)(Y.a,{id:"maletas",value:y.maletas,onValueChange:function(e){return C(Object(u.a)(Object(u.a)({},y),{},{maletas:e.value}))},mode:"decimal",showButtons:!0,buttonLayout:"vertical",style:{width:"5em"},min:0,decrementButtonClassName:"p-button-secondary",incrementButtonClassName:"p-button-secondary",incrementButtonIcon:"pi pi-plus",decrementButtonIcon:"pi pi-minus"})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-3",children:[Object(x.jsx)("label",{htmlFor:"incapacitados",children:"Incapacitados"}),Object(x.jsx)("br",{}),Object(x.jsx)(Y.a,{id:"incapacitados",value:y.incapacitados,onValueChange:function(e){return C(Object(u.a)(Object(u.a)({},y),{},{incapacitados:e.value}))},mode:"decimal",showButtons:!0,buttonLayout:"vertical",style:{width:"5em"},min:0,decrementButtonClassName:"p-button-secondary",incrementButtonClassName:"p-button-secondary",incrementButtonIcon:"pi pi-plus",decrementButtonIcon:"pi pi-minus"})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-2",children:[Object(x.jsx)("label",{htmlFor:"rel_vehiculo",children:"Color"}),Object(x.jsx)("br",{}),Object(x.jsx)(X.a,{value:y.color,onChange:function(e){return C(Object(u.a)(Object(u.a)({},y),{},{color:e.value}))}})]})]})}),Object(x.jsx)(b.a,{label:"Editar",disabled:null===e.selected,icon:"pi pi-cog",className:"p-button-secondary",onClick:function(){null!==e.selected.idVehiculo?(C(e.selected),l["".concat("dialog")](!0)):console.log("Sin Seleccion del usuario")}})]})};var ie=function(){var e=Object(i.useState)([]),a=Object(r.a)(e,2),t=a[0],l=a[1],n=Object(i.useState)(null),o=Object(r.a)(n,2),s=o[0],u=o[1],b=Object(i.useState)(""),m=Object(r.a)(b,2),O=m[0],f=m[1],g=Object(i.useRef)(null);Object(i.useEffect)((function(){N()}),[]);var N=function(){u(null),fetch(v.a.apiUrl+"/vehiculo",{method:"GET",headers:{Accept:"application/json"}}).then((function(e){if(e.ok)return e.json();var a,t;a="Error del servidor",t="Response not ok POST /vehiculo",g.current.show({severity:"error",summary:a,detail:t,life:3e3})})).then((function(e){l(e)}))},y=Object(x.jsxs)("div",{className:"table-header p-d-flex",children:[Object(x.jsx)("div",{className:"p-mr-2",children:Object(x.jsx)(Q,{updateTabla:N})}),Object(x.jsx)("div",{className:"p-mr-2",children:Object(x.jsx)(te,{updateTabla:N,selected:s})}),Object(x.jsx)("div",{className:"p-mr-2",children:Object(x.jsx)(ee,{updateTabla:N,selected:s})}),Object(x.jsx)("div",{className:"p-ml-auto",children:Object(x.jsxs)("span",{className:"p-input-icon-left",children:[Object(x.jsx)("i",{className:"pi pi-search"}),Object(x.jsx)(p.a,{type:"search",value:O,onChange:function(e){return f(e.target.value)},placeholder:"Buscar"})]})})]});return Object(x.jsx)("div",{className:"Vehiculos",children:Object(x.jsxs)("div",{className:"p-grid",children:[Object(x.jsx)("div",{className:"p-col-1 hide-sm"}),Object(x.jsxs)("div",{className:"p-col-10 max-in-sm datatable-responsive-demo",children:[Object(x.jsx)("h1",{children:"Vehiculos"}),Object(x.jsx)(h.a,{ref:g}),Object(x.jsxs)(d.a,{value:t,selectionMode:"single",selection:s,onSelectionChange:function(e){return u(e.value)},dataKey:"idVehiculo",className:"p-datatable-responsive-demo",paginator:!0,rows:10,header:y,globalFilter:O,emptyMessage:"Sin registros encontrados",showGridlines:!0,children:[Object(x.jsx)(j.a,{field:"idVehiculo",header:"ID",body:function(e){return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)("span",{className:"p-column-title",children:"ID:"}),e.idVehiculo]})},filter:!0,filterPlaceholder:"Buscar ID"}),Object(x.jsx)(j.a,{field:"marca",header:"Marca",body:function(e){return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)("span",{className:"p-column-title",children:"Marca:"}),e.marca]})},filter:!0,filterPlaceholder:"Buscar Marca",filterMatchMode:"contains"}),Object(x.jsx)(j.a,{field:"modelo",header:"Modelo",body:function(e){return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)("span",{className:"p-column-title",children:"Modelo:"}),e.modelo]})},filter:!0,filterPlaceholder:"Buscar Modelo",filterMatchMode:"contains"}),Object(x.jsx)(j.a,{field:"placa",header:"Placa",body:function(e){return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)("span",{className:"p-column-title",children:"Placa:"}),e.placa]})},filter:!0,filterPlaceholder:"Buscar Placa",filterMatchMode:"contains"}),Object(x.jsx)(j.a,{field:"capacidad",header:"Capacidad",body:function(e){return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)("span",{className:"p-column-title",children:"Capacidad:"}),e.capacidad]})},filter:!0,filterPlaceholder:"Buscar Capacidad",filterMatchMode:"contains"}),Object(x.jsx)(j.a,{field:"maletas",header:"Maletas",body:function(e){return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)("span",{className:"p-column-title",children:"Maletas:"}),e.maletas]})},filter:!0,filterPlaceholder:"Buscar Maletas",filterMatchMode:"contains"}),Object(x.jsx)(j.a,{field:"incapacitados",header:"Incapacitados",body:function(e){return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)("span",{className:"p-column-title",children:"Incapacitados:"}),e.incapacitados]})},filter:!0,filterPlaceholder:"Buscar Incapacitados",filterMatchMode:"contains"}),Object(x.jsx)(j.a,{field:"color",header:"Color",body:function(e){var a={backgroundColor:"#"+e.color,color:"white"};return Object(x.jsx)(c.a.Fragment,{children:Object(x.jsx)(ae.a,{label:"Color",style:a})})},filter:!0,filterPlaceholder:"Buscar Color Hex",filterMatchMode:"contains"}),Object(x.jsx)(j.a,{field:"idTipoVehiculo",header:"Uso",body:function(e){var a=void 0!==e.idTipoVehiculo&&null!==e.idTipoVehiculo?e.idTipoVehiculo.nombre:"-";return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)("span",{className:"p-column-title",children:"Rol:"}),a]})},filter:!0,filterPlaceholder:"Buscar uso",filterMatchMode:"contains"})]})]}),Object(x.jsx)("div",{className:"p-col-1 hide-sm"})]})})},ce=t.p+"static/media/logo.c4781aca.jpeg",le=t(49);var ne=function(){var e=Object(s.g)(),a=Object(R.a)(["usuarioSession"]),t=Object(r.a)(a,3),i=(t[0],t[1],t[2]),c=[{label:"Administracion",icon:"pi pi-fw pi-shield",items:[{label:"General",icon:"pi pi-fw pi-briefcase",command:function(){return e.push("/general")}},{label:"Usuarios",icon:"pi pi-fw pi-user",command:function(){return e.push("/usuarios")}},{label:"Veh\xedculos",icon:"pi pi-fw pi-shopping-cart",command:function(){return e.push("/vehiculos")}}]},{label:"Despacho",icon:"pi pi-fw pi-home",items:[{label:"Servicios",icon:"pi pi-fw pi-info-circle",items:[{label:"Crear",icon:"pi pi-fw pi-map-marker",command:function(){return e.push("/generarServicio")}},{label:"Confirmaciones",icon:"pi pi-fw pi-ticket",command:function(){return e.push("/serviciosEnEspera")}},{label:"En Curso",icon:"pi pi-fw pi-search",command:function(){return e.push("/serviciosEnCurso")}},{label:"Finalizados",icon:"pi pi-fw pi-book",command:function(){return e.push("/servicioFinalizados")}}]},{label:"Clientes",icon:"pi pi-fw pi-id-card",items:[{label:"Personal",icon:"pi pi-fw pi-user",command:function(){return e.push("/clientes")}},{label:"Empresarial",icon:"pi pi-fw pi-sitemap",items:[{label:"Entidad",icon:"pi pi-fw pi-globe",command:function(){return e.push("/entidad")}},{label:"Empresa",icon:"pi pi-fw pi-user",command:function(){return e.push("/clientesEmpresarial")}}]}]},{label:"Pasajeros",icon:"pi pi-fw pi-user-edit",command:function(){return e.push("/pasajeros")}},{label:"Documentos",icon:"pi pi-fw pi-wallet",command:function(){return e.push("/documentos")}}]},{label:"Reportes",icon:"pi pi-fw pi-chart-bar",command:function(){return e.push("/reporte")}},{label:"Pagina Reservaci\xf3n",icon:"pi pi-fw pi-wallet",command:function(){return e.push("/reservacion")}}],l=Object(x.jsx)("img",{alt:"logo",src:ce,height:"30",className:"p-mr-2"}),n=Object(x.jsx)(b.a,{label:"Salir",icon:"pi pi-sign-out",onClick:function(){i("usuarioSession"),e.push("/login")}});return Object(x.jsx)(le.a,{model:c,className:"top-menu",start:l,end:n})};var oe=function(e){var a,t=Object(i.useState)(!1),c=Object(r.a)(t,2),l=c[0],n={dialog:c[1]},o=function(e){n["".concat(e)](!1)},s=Object(i.useRef)(null),d=Object(i.useState)({activo:!0,direccion:"",idEntidad:null,nombre:"",telefono:""}),j=Object(r.a)(d,2),g=j[0],N=j[1],y=function(){if(null!==g.idEntidad||""===g.nombre||""===g.telefono||""===g.direccion)return a="Campos incompletos",t="",void s.current.show({severity:"warn",summary:a,detail:t,life:3e3});var a,t;fetch(v.a.apiUrl+"/entidad",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(g)}).then((function(a){a.ok?(o("dialog"),function(e,a){s.current.show({severity:"success",summary:e,detail:a,life:3e3})}("Entidad registrada",""),e.updateTabla()):function(e,a){s.current.show({severity:"error",summary:e,detail:a,life:3e3})}("Error del servidor","Response not ok POST /entidad")})).catch((function(e){return console.error("Error:",e)}))};return Object(x.jsxs)("div",{className:"RegistarEntidad",children:[Object(x.jsx)(h.a,{ref:s}),Object(x.jsx)(m.a,{header:"Registrar Entidad Empresarial",visible:l,onHide:function(){return o("dialog")},footer:(a="dialog",Object(x.jsxs)("div",{children:[Object(x.jsx)(b.a,{label:"Cancelar",icon:"pi pi-times",onClick:function(){return o(a)},className:"p-button-text"}),Object(x.jsx)(b.a,{label:"Registrar",icon:"pi pi-check",onClick:y,autoFocus:!0})]})),breakpoints:{"960px":"75vw","640px":"100vw"},style:{width:"60vw"},children:Object(x.jsxs)("div",{className:"p-fluid p-formgrid p-grid",children:[Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"nombre",children:"Raz\xf3n Social"}),Object(x.jsx)(p.a,{id:"nombre",type:"text",keyfilter:/^[a-zA-Z0-9- ]+$/,placeholder:"Nombres de la entidad",value:g.nombre,onChange:function(e){return N(Object(u.a)(Object(u.a)({},g),{},{nombre:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"telefono",children:"Telefono"}),Object(x.jsx)(O.a,{id:"telefono",mask:"99999999",keyfilter:"int",placeholder:"Telefono de la entidad",value:g.telefono,onChange:function(e){return N(Object(u.a)(Object(u.a)({},g),{},{telefono:e.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12",children:[Object(x.jsx)("label",{htmlFor:"direccion",children:"Direcci\xf3n"}),Object(x.jsx)(f.a,{id:"direccion",type:"text",rows:"3",placeholder:"Direccion de la entidad",value:g.direccion,onChange:function(e){return N(Object(u.a)(Object(u.a)({},g),{},{direccion:e.target.value}))}})]})]})}),Object(x.jsx)(b.a,{label:"Registrar",icon:"pi pi-user-plus",onClick:function(){return function(e){n["".concat(e)](!0)}("dialog")}})]})};var se=function(e){var a=Object(i.useState)(!1),t=Object(r.a)(a,2),c=t[0],l=t[1];return Object(x.jsxs)("div",{className:"BorrarVehiculo",children:[Object(x.jsx)(N.a,{visible:c,onHide:function(){return l(!1)},message:"Favor aceptar para eliminar la entidad",header:"Confirmaci\xf3n",icon:"pi pi-exclamation-triangle",accept:function(){fetch(v.a.apiUrl+"/entidad/"+e.selected.idEntidad,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(a){a.ok?(l(!1),e.updateTabla()):console.log("Respuesta de red OK pero respuesta HTTP no OK")})).catch((function(e){return console.error("Error:",e)}))},reject:function(){},breakpoints:{"960px":"75vw","640px":"100vw"},style:{width:"50vw"},acceptLabel:"Si"}),Object(x.jsx)(b.a,{disabled:null===e.selected,icon:"pi pi-trash",onClick:function(){return l(!0)},className:"p-button-danger"})]})};var re=function(e){var a,t=Object(i.useState)(!1),c=Object(r.a)(t,2),l=c[0],n={dialog:c[1]},o=function(e){n["".concat(e)](!1)},s=Object(i.useRef)(null),d=Object(i.useState)({activo:!0,direccion:"",idEntidad:null,nombre:"",telefono:""}),j=Object(r.a)(d,2),g=j[0],N=j[1],y=function(){if(null===g.idEntidad||""===g.nombre||""===g.telefono||""===g.direccion)return a="Campos incompletos",t="",void s.current.show({severity:"warn",summary:a,detail:t,life:3e3});var a,t;fetch(v.a.apiUrl+"/entidad/"+e.selected.idEntidad,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(g)}).then((function(a){a.ok?(o("dialog"),function(e,a){s.current.show({severity:"success",summary:e,detail:a,life:3e3})}("Entidad editada",""),e.updateTabla()):function(e,a){s.current.show({severity:"error",summary:e,detail:a,life:3e3})}("Error del servidor","Response not ok POST /entidad")})).catch((function(e){return console.error("Error:",e)}))};return Object(x.jsxs)("div",{className:"EditarEntidad",children:[Object(x.jsx)(h.a,{ref:s}),Object(x.jsx)(m.a,{header:"Registrar Entidad Empresarial",visible:l,onHide:function(){return o("dialog")},footer:(a="dialog",Object(x.jsxs)("div",{children:[Object(x.jsx)(b.a,{label:"Cancelar",icon:"pi pi-times",onClick:function(){return o(a)},className:"p-button-text"}),Object(x.jsx)(b.a,{label:"Registrar",icon:"pi pi-check",onClick:y,autoFocus:!0})]})),breakpoints:{"960px":"75vw","640px":"100vw"},style:{width:"60vw"},children:Object(x.jsxs)("div",{className:"p-fluid p-formgrid p-grid",children:[Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"nombre",children:"Raz\xf3n Social"}),Object(x.jsx)(p.a,{id:"nombre",type:"text",keyfilter:/^[a-zA-Z0-9- ]+$/,placeholder:"Nombres de la entidad",value:g.nombre,onChange:function(e){return N(Object(u.a)(Object(u.a)({},g),{},{nombre:e.target.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-6",children:[Object(x.jsx)("label",{htmlFor:"telefono",children:"Telefono"}),Object(x.jsx)(O.a,{id:"telefono",mask:"99999999",keyfilter:"int",placeholder:"Telefono de la entidad",value:g.telefono,onChange:function(e){return N(Object(u.a)(Object(u.a)({},g),{},{telefono:e.value}))}})]}),Object(x.jsxs)("div",{className:"p-field p-col-12",children:[Object(x.jsx)("label",{htmlFor:"direccion",children:"Direcci\xf3n"}),Object(x.jsx)(f.a,{id:"direccion",type:"text",rows:"3",placeholder:"Direccion de la entidad",value:g.direccion,onChange:function(e){return N(Object(u.a)(Object(u.a)({},g),{},{direccion:e.target.value}))}})]})]})}),Object(x.jsx)(b.a,{label:"Editar",disabled:null===e.selected,icon:"pi pi-user-edit",className:"p-button-secondary",onClick:function(){null!==e.selected.idEntidad?(N(e.selected),n["".concat("dialog")](!0)):console.log("Sin Seleccion del usuario")}})]})};var de=function(){var e=Object(i.useState)([]),a=Object(r.a)(e,2),t=a[0],l=a[1],n=Object(i.useState)(null),o=Object(r.a)(n,2),s=o[0],u=o[1],b=Object(i.useState)(""),h=Object(r.a)(b,2),m=h[0],O=h[1];Object(i.useEffect)((function(){f()}),[]);var f=function(){u(null),fetch(v.a.apiUrl+"/entidad",{method:"GET",headers:{Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){return l(e)}))},g=Object(x.jsxs)("div",{className:"table-header p-d-flex",children:[Object(x.jsx)("div",{className:"p-mr-2",children:Object(x.jsx)(oe,{updateTabla:f})}),Object(x.jsx)("div",{className:"p-mr-2",children:Object(x.jsx)(re,{updateTabla:f,selected:s})}),Object(x.jsx)("div",{className:"p-mr-2",children:Object(x.jsx)(se,{updateTabla:f,selected:s})}),Object(x.jsx)("div",{className:"p-ml-auto",children:Object(x.jsxs)("span",{className:"p-input-icon-left",children:[Object(x.jsx)("i",{className:"pi pi-search"}),Object(x.jsx)(p.a,{type:"search",value:m,onChange:function(e){return O(e.target.value)},placeholder:"Buscar"})]})})]});return Object(x.jsx)("div",{className:"Entidad",children:Object(x.jsxs)("div",{className:"p-grid",children:[Object(x.jsx)("div",{className:"p-col-1 hide-sm"}),Object(x.jsxs)("div",{className:"p-col-10 max-in-sm datatable-responsive-demo",children:[Object(x.jsx)("h1",{children:"Raz\xf3n Social"}),Object(x.jsxs)(d.a,{value:t,selectionMode:"single",selection:s,onSelectionChange:function(e){return u(e.value)},dataKey:"idEntidad",className:"p-datatable-responsive-demo",paginator:!0,rows:10,header:g,globalFilter:m,emptyMessage:"Sin registros encontrados",showGridlines:!0,children:[Object(x.jsx)(j.a,{field:"idEntidad",header:"ID",body:function(e){return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)("span",{className:"p-column-title",children:"ID:"}),e.idEntidad]})},filter:!0,filterPlaceholder:"Buscar ID"}),Object(x.jsx)(j.a,{field:"nombre",header:"Raz\xf3n Social",body:function(e){return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)("span",{className:"p-column-title",children:"Raz\xf3n Social:"}),e.nombre]})},filter:!0,filterPlaceholder:"Buscar Nombre",filterMatchMode:"contains"}),Object(x.jsx)(j.a,{field:"telefono",header:"Telefono",body:function(e){return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)("span",{className:"p-column-title",children:"Telefono:"}),e.telefono]})},filter:!0,filterPlaceholder:"Buscar Telefono",filterMatchMode:"contains"}),Object(x.jsx)(j.a,{field:"direccion",header:"Direccion",body:function(e){return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)("span",{className:"p-column-title",children:"Direcci\xf3n:"}),e.direccion]})},filter:!0,filterPlaceholder:"Buscar Direcci\xf3n",filterMatchMode:"contains"})]})]}),Object(x.jsx)("div",{className:"p-col-1 hide-sm"})]})})},je=t(59),pe=t(34),ue=t(12),be=t(68);var he=function(){var e=Object(i.useState)(null),a=Object(r.a)(e,2),t=a[0],l=a[1],n=Object(i.useState)({idServicio:null,idTipoServicio:null,idCliente:{apellidos:"",idCliente:null,nombres:""},fechaFinal:null,fechaInicio:null}),o=Object(r.a)(n,2),s=o[0],O=o[1];Object(ue.a)("es",{firstDayOfWeek:1,dayNames:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],dayNamesShort:["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],dayNamesMin:["D","L","M","X","J","V","S"],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],today:"Hoy",clear:"Claro"});var f=Object(i.useState)(null),g=Object(r.a)(f,2),N=g[0],y=g[1],C=Object(i.useState)([]),S=Object(r.a)(C,2),T=S[0],k=S[1],F=Object(i.useState)(null),E=Object(r.a)(F,2),P=E[0],M=E[1],I=Object(i.useState)(null),U=Object(r.a)(I,2),R=U[0],A=(U[1],Object(i.useRef)(null)),B=function(e,a){A.current.show({severity:"error",summary:e,detail:a,life:3e3})},V=Object(i.useState)(!1),z=Object(r.a)(V,2),H=z[0],G=z[1],K=function(){G(!1)},J=Object(i.useState)([]),q=Object(r.a)(J,2),Z=q[0],$=q[1];return Object(i.useEffect)((function(){fetch(v.a.apiUrl+"/tiposervicio",{method:"GET",headers:{Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){return $(e)})).catch((function(e){return console.error("Error:",e)}))}),[]),Object(x.jsxs)("div",{className:"ServiciosFinalizados",children:[Object(x.jsx)(h.a,{ref:A}),Object(x.jsx)("h2",{style:{textAlign:"center"},children:"Servicios Finalizados"}),Object(x.jsxs)("div",{className:"p-grid p-nogutter",children:[Object(x.jsx)("div",{className:"p-col-12 p-md-3",children:Object(x.jsx)("div",{className:"p-mx-3",children:Object(x.jsxs)("div",{className:"p-fluid p-grid p-formgrid",children:[Object(x.jsx)("div",{className:"p-field p-col-12 p-md-12",children:Object(x.jsx)("label",{htmlFor:"info",children:"Filtros de servicios"})}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-8",children:[Object(x.jsx)("label",{htmlFor:"idServicio",children:"ID"}),Object(x.jsx)(Y.a,{inputId:"idServicio",value:s.idServicio,onChange:function(e){return O(Object(u.a)(Object(u.a)({},s),{},{idServicio:e.value}))},mode:"decimal",useGrouping:!1,placeholder:"Numero Servicio"})]}),Object(x.jsx)("div",{className:"p-field p-col-12 p-md-4"}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(x.jsx)("label",{htmlFor:"nombres",children:"Cliente"}),Object(x.jsx)(p.a,{id:"nombres",type:"text",keyfilter:/^[a-zA-Z0-9- ]+$/,placeholder:"Nombre de empresa o personal",value:s.idCliente.nombres,onChange:function(e){return O(Object(u.a)(Object(u.a)({},s),{},{idCliente:{idCliente:null,nombres:e.target.value}}))},autoComplete:"off"})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(x.jsx)("label",{htmlFor:"idTipoServicio",children:"Tipo de Servicio"}),Object(x.jsx)(w.a,{value:s.idTipoServicio,options:Z,onChange:function(e){void 0!==e.value?O(Object(u.a)(Object(u.a)({},s),{},{idTipoServicio:e.value})):O(Object(u.a)(Object(u.a)({},s),{},{idTipoServicio:null}))},optionLabel:"nombre",filter:!0,showClear:!0,filterBy:"nombre",placeholder:"Seleccionar tipo de servicio",emptyMessage:"Sin entidades identificas",emptyFilterMessage:"Sin resultados"})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(x.jsx)("label",{htmlFor:"range",children:"Rango de fechas:"}),Object(x.jsx)(pe.a,{id:"range",value:N,onChange:function(e){var a=e.value;O(Object(u.a)(Object(u.a)({},s),{},{fechaInicio:null!==a[0]?a[0].toISOString():null,fechaFinal:null!==a[1]?a[1].toISOString():null})),y(a)},selectionMode:"range",readOnlyInput:!0,locale:"es",touchUI:!0,placeholder:"Ingresar el rango"})]}),Object(x.jsx)("div",{className:"p-field p-col-12 p-md-12",children:Object(x.jsx)(b.a,{label:"Filtrar servicios",icon:"pi pi-question-circle",style:{width:"100%"},className:"p-button-warning",onClick:function(){console.log("filtro",s),fetch(v.a.apiUrl+"/servicio/filtrarServicios",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(e){if(e.ok)return e.json();B("Error del servidor","Response not ok POST /filtrarServicios")})).then((function(e){var a,t;Array.isArray(e)?e.length>0?(k(e),a="Se encontraron",t="resultados: "+e.length,A.current.show({severity:"success",summary:a,detail:t,life:3e3})):(k([]),function(e,a){A.current.show({severity:"warn",summary:e,detail:a,life:3e3})}("Sin Resultados","El filtro no posee registros")):B("Error al cargar los servicios","No es Array")}))}})}),Object(x.jsx)(D.a,{})]})})}),Object(x.jsx)("div",{className:"p-col-12 p-md-9",children:Object(x.jsx)("div",{className:"p-mx-3",children:Object(x.jsxs)(d.a,{value:T,selectionMode:"single",resizableColumns:!0,dataKey:"idServicio",showGridlines:!0,paginator:!0,rows:10,emptyMessage:"Sin servicios encontrados, favor utilizar filtro",children:[Object(x.jsx)(j.a,{field:"idServicio",header:"Servicio",style:{width:"22%"}}),Object(x.jsx)(j.a,{field:"idCliente",header:"Cliente",body:function(e){return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)("span",{className:"p-column-title"}),e.idCliente.nombres," ",e.idCliente.apellidos]})}}),Object(x.jsx)(j.a,{field:"idTipoServicio",header:"Tipo Servicio",body:function(e){return Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)("span",{className:"p-column-title"}),e.idTipoServicio.nombre]})}}),Object(x.jsx)(j.a,{body:function(e){return Object(x.jsx)(c.a.Fragment,{children:Object(x.jsx)(b.a,{icon:"pi pi-exclamation-circle",className:"p-button-rounded p-button-warning",onClick:function(){fetch(v.a.apiUrl+"/parada/"+e.idServicio,{method:"GET",headers:{Accept:"application/json"}}).then((function(e){return e.json()})).then((function(a){var t=Object(u.a)(Object(u.a)({},e),{},{paradaList:a});M(t),G(!0)}))}})})},style:{width:"15%"}})]})})})]}),Object(x.jsx)(m.a,{header:"Detalles del Servicio",visible:H,onHide:K,footer:function(){return Object(x.jsx)("div",{children:Object(x.jsx)(b.a,{label:"Cerrar",icon:"pi pi-times",onClick:K,className:"p-button-text"})})},breakpoints:{"960px":"75vw","640px":"100vw"},style:{width:"60vw"},children:null!==P&&Object(x.jsxs)("div",{className:"p-fluid p-formgrid p-grid",children:[Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(x.jsx)("label",{className:"p-col-4",children:"ID Servicio:"}),Object(x.jsx)("label",{className:"p-col-8",children:P.idServicio})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(x.jsx)("label",{className:"p-col-4",children:"Cliente:"}),Object(x.jsx)("label",{className:"p-col-8",children:P.idCliente.nombres+" "+P.idCliente.apellidos})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(x.jsx)("label",{className:"p-col-4",children:"Tipo de Servicio:"}),Object(x.jsx)("label",{className:"p-col-8",children:P.idTipoServicio.nombre})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(x.jsx)("label",{className:"p-col-4",children:"Motorista:"}),Object(x.jsx)("label",{className:"p-col-8",children:P.idUsuario.nombres+" "+P.idUsuario.apellidos})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(x.jsx)("label",{className:"p-col-4",children:"Vehiculo(Placa):"}),Object(x.jsx)("label",{className:"p-col-8",children:P.idVehiculo.placa})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(x.jsx)("label",{className:"p-col-4",children:"Capacidad:"}),Object(x.jsx)("label",{className:"p-col-8",children:P.capacidad})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(x.jsx)("label",{className:"p-col-4",children:"Maletas:"}),Object(x.jsx)("label",{className:"p-col-8",children:P.maletas})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(x.jsx)("label",{className:"p-col-4",children:"Incapacitados:"}),Object(x.jsx)("label",{className:"p-col-8",children:P.incapacitados})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(x.jsx)("label",{className:"p-col-4",children:"Inicio:"}),Object(x.jsx)("label",{className:"p-col-8",children:new Date(P.fechaInicio.slice(0,-5)).toLocaleString("es-US")})]}),void 0!==P.fechaFinal&&Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(x.jsx)("label",{className:"p-col-4",children:"Finalizo:"}),Object(x.jsx)("label",{className:"p-col-8",children:new Date(P.fechaFinal.slice(0,-5)).toLocaleString("es-US")})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(x.jsx)("label",{className:"p-col-4",children:"Detalles del Pago:"}),Object(x.jsx)("label",{className:"p-col-8",children:P.pagoTxt})]}),Object(x.jsx)("div",{className:"p-field p-col-12 p-md-4",children:Object(x.jsx)("label",{className:"p-col-4",children:"Paradas:"})}),Object(x.jsx)("div",{className:"p-field p-col-12 p-md-8",children:Object(x.jsx)(be.a,{optionLabel:"nombre",value:R,options:P.paradaList,onChange:function(e){if(void 0!==e.value){var a=e.value;t.panTo({lat:parseFloat(a.lat),lng:parseFloat(a.lng)})}}})}),Object(x.jsx)("div",{className:"p-field p-col-12 p-md-4",children:Object(x.jsx)("label",{className:"p-col-4",children:"Trayecto:"})}),Object(x.jsx)("div",{className:"p-field p-col-12 p-md-8",children:Object(x.jsx)(L.f,{mapContainerStyle:{width:"100%",height:"40vh"},zoom:14,onLoad:function(e){null!==e?l(e):console.log("mapInstance is not loaded yet!")},center:{lat:13.7762518,lng:-88.8805684},children:null!==P.gmResponse&&Object(x.jsx)(L.c,{options:{directions:JSON.parse(atob(P.gmResponse))}})})})]})})]})},me=t(69),Oe=t(70),fe=t(53),ve=t(71);var xe=function(){var e=Object(s.g)(),a=[{label:"Nosotros",icon:"pi pi-fw pi-users",command:function(){return e.push("/reservacion")}},{label:"Servicios",icon:"pi pi-fw pi-list",command:function(){return e.push("/reservacion")}},{label:"Reservaci\xf3n",icon:"pi pi-fw pi-wallet",command:function(){return e.push("/reservacion")}}],t=Object(x.jsx)("img",{alt:"logo",src:ce,height:"30",style:{borderRadius:"3px"},className:"p-mr-2"}),i=Object(x.jsx)(b.a,{label:"Despacho",icon:"pi pi-sign-out",onClick:function(){return e.push("/login")}});return Object(x.jsx)("div",{className:"card",children:Object(x.jsxs)(fe.b,{className:"tabview-custom",children:[Object(x.jsxs)(fe.a,{header:"Personas",leftIcon:"pi pi-fw pi-user",children:[Object(x.jsx)(le.a,{model:a,className:"top-menu-cliente",start:t,end:i}),Object(x.jsx)(ve.a,{})]}),Object(x.jsx)(fe.a,{header:"Empresas",leftIcon:"pi pi-fw pi-sitemap",children:Object(x.jsx)("p",{children:"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Consectetur, adipisci velit, sed quia non numquam eius modi."})})]})})};var ge=function(){var e=Object(i.useRef)(null),a=Object(i.useState)({idServicio:null,idTipoServicio:null,idCliente:{apellidos:"",idCliente:null,nombres:""},fechaFinal:null,fechaInicio:null}),c=Object(r.a)(a,2),l=c[0],n=c[1];Object(ue.a)("es",{firstDayOfWeek:1,dayNames:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],dayNamesShort:["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],dayNamesMin:["D","L","M","X","J","V","S"],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],today:"Hoy",clear:"Claro"});var o=Object(i.useState)(null),s=Object(r.a)(o,2),m=s[0],O=s[1],f=Object(i.useState)([]),g=Object(r.a)(f,2),N=g[0],y=g[1],C=Object(i.useRef)(null),S=Object(i.useState)([]),T=Object(r.a)(S,2),k=T[0],F=T[1];Object(i.useEffect)((function(){fetch(v.a.apiUrl+"/tiposervicio",{method:"GET",headers:{Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){return F(e)})).catch((function(e){return console.error("Error:",e)}))}),[]);var E=function(e,a){t.e(5).then(t.t.bind(null,104,7)).then((function(t){var i=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});t.saveAs(i,a+"_"+(new Date).getTime()+".xlsx")}))},P=Object(x.jsx)("div",{className:"p-d-flex p-ai-center export-buttons",children:Object(x.jsx)(b.a,{type:"button",icon:"pi pi-file-excel",onClick:function(){Promise.all([t.e(3),t.e(4)]).then(t.t.bind(null,103,7)).then((function(e){var a={Sheets:{data:e.utils.json_to_sheet(N)},SheetNames:["data"]},t=e.write(a,{bookType:"xlsx",type:"array"});E(t,"Reporte_servicios")}))},className:"p-button-success p-ml-auto","data-pr-tooltip":"XLS"})});return Object(x.jsxs)("div",{className:"Reporte",children:[Object(x.jsx)(h.a,{ref:C}),Object(x.jsx)("h2",{style:{textAlign:"center"},children:"Reportes de servicios por pasajero"}),Object(x.jsxs)("div",{className:"p-grid p-nogutter",children:[Object(x.jsx)("div",{className:"p-col-12 p-md-2",children:Object(x.jsx)("div",{className:"p-mx-3",children:Object(x.jsxs)("div",{className:"p-fluid p-grid p-formgrid",children:[Object(x.jsx)("div",{className:"p-field p-col-12 p-md-12",children:Object(x.jsx)("label",{htmlFor:"info",children:"Filtros de servicios"})}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-8",children:[Object(x.jsx)("label",{htmlFor:"idServicio",children:"ID"}),Object(x.jsx)(Y.a,{inputId:"idServicio",value:l.idServicio,onChange:function(e){return n(Object(u.a)(Object(u.a)({},l),{},{idServicio:e.value}))},mode:"decimal",useGrouping:!1,placeholder:"Numero Servicio"})]}),Object(x.jsx)("div",{className:"p-field p-col-12 p-md-4"}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(x.jsx)("label",{htmlFor:"nombres",children:"Cliente"}),Object(x.jsx)(p.a,{id:"nombres",type:"text",keyfilter:/^[a-zA-Z0-9- ]+$/,placeholder:"Nombre de empresa o personal",value:l.idCliente.nombres,onChange:function(e){return n(Object(u.a)(Object(u.a)({},l),{},{idCliente:{idCliente:null,nombres:e.target.value}}))},autoComplete:"off"})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(x.jsx)("label",{htmlFor:"idTipoServicio",children:"Tipo de Servicio"}),Object(x.jsx)(w.a,{value:l.idTipoServicio,options:k,onChange:function(e){void 0!==e.value?n(Object(u.a)(Object(u.a)({},l),{},{idTipoServicio:e.value})):n(Object(u.a)(Object(u.a)({},l),{},{idTipoServicio:null}))},optionLabel:"nombre",filter:!0,showClear:!0,filterBy:"nombre",placeholder:"Seleccionar tipo de servicio",emptyMessage:"Sin entidades identificas",emptyFilterMessage:"Sin resultados"})]}),Object(x.jsxs)("div",{className:"p-field p-col-12 p-md-12",children:[Object(x.jsx)("label",{htmlFor:"range",children:"Rango de fechas:"}),Object(x.jsx)(pe.a,{id:"range",value:m,onChange:function(e){var a=e.value;n(Object(u.a)(Object(u.a)({},l),{},{fechaInicio:null!==a[0]?a[0].toISOString():null,fechaFinal:null!==a[1]?a[1].toISOString():null})),O(a)},selectionMode:"range",readOnlyInput:!0,locale:"es",touchUI:!0,placeholder:"Ingresar el rango"})]}),Object(x.jsx)("div",{className:"p-field p-col-12 p-md-12",children:Object(x.jsx)(b.a,{label:"Filtrar resultados",icon:"pi pi-question-circle",style:{width:"100%"},className:"p-button-warning",onClick:function(){console.log(l),fetch(v.a.apiUrl+"/parada/reporte",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(l)}).then((function(e){return e.json()})).then((function(e){var a,t;Array.isArray(e)?e.length>0?(y(e),a="Se encontraron",t="resultados",C.current.show({severity:"success",summary:a,detail:t,life:3e3})):(y([]),function(e,a){C.current.show({severity:"warn",summary:e,detail:a,life:3e3})}("Sin Resultados","El filtro no posee registros")):function(e,a){C.current.show({severity:"error",summary:e,detail:a,life:3e3})}("Error al cargar los servicios","No es Array")}))}})}),Object(x.jsx)(D.a,{})]})})}),Object(x.jsx)("div",{className:"p-col-12 p-md-10",children:Object(x.jsx)("div",{className:"p-mx-3",children:Object(x.jsxs)(d.a,{ref:e,value:N,resizableColumns:!0,scrollable:!0,header:P,showGridlines:!0,paginator:!0,rows:10,emptyMessage:"Sin servicios encontrados, favor utilizar filtro",className:"p-datatable-sm",children:[Object(x.jsx)(j.a,{field:"codigo",header:"Codigo",headerStyle:{width:"8vw"},scrollHeight:"50vh"}),Object(x.jsx)(j.a,{field:"codigoRfid",header:"Codigo Rfid",headerStyle:{width:"8vw"}}),Object(x.jsx)(j.a,{field:"nombre",header:"Nombre",headerStyle:{width:"12vw"}}),Object(x.jsx)(j.a,{field:"fechaServicio",header:"Fecha servicio",headerStyle:{width:"8vw"}}),Object(x.jsx)(j.a,{field:"horaServicio",header:"Hora de Servicio",headerStyle:{width:"8vw"}}),Object(x.jsx)(j.a,{field:"idServicio",header:"ID Servicio",headerStyle:{width:"8vw"}}),Object(x.jsx)(j.a,{field:"nombreRuta",header:"Nombre ruta",headerStyle:{width:"8vw"}}),Object(x.jsx)(j.a,{field:"estado",header:"Estado",headerStyle:{width:"8vw"}}),Object(x.jsx)(j.a,{field:"sucursal",header:"Sucursal",headerStyle:{width:"10vw"}}),Object(x.jsx)(j.a,{field:"razonSocial",header:"Raz\xf3n social",headerStyle:{width:"10vw"}}),Object(x.jsx)(j.a,{field:"motorista",header:"Motorista",headerStyle:{width:"12vw"}}),Object(x.jsx)(j.a,{field:"vehiculo",header:"Veh\xedculo",headerStyle:{width:"12vw"}}),Object(x.jsx)(j.a,{field:"latLngIni",header:"LatLngIni",headerStyle:{width:"20vw"}}),Object(x.jsx)(j.a,{field:"latLngEnd",header:"LatLngEnd",headerStyle:{width:"20vw"}}),Object(x.jsx)(j.a,{field:"fechaAbordaje",header:"Fecha Abordaje",headerStyle:{width:"8vw"}}),Object(x.jsx)(j.a,{field:"horaAbordaje",header:"Hora Abordaje",headerStyle:{width:"8vw"}}),Object(x.jsx)(j.a,{field:"fechaBajada",header:"Fecha Bajada",headerStyle:{width:"8vw"}}),Object(x.jsx)(j.a,{field:"horaBajada",header:"Hora Bajada",headerStyle:{width:"8vw"}}),Object(x.jsx)(j.a,{field:"comentarios",header:"Comentario",headerStyle:{width:"14vw"}}),Object(x.jsx)(j.a,{field:"direccionSubida",header:"Direcci\xf3n subida",headerStyle:{width:"14vw"}}),Object(x.jsx)(j.a,{field:"direccionBajada",header:"Direcci\xf3n bajada",headerStyle:{width:"14vw"}}),Object(x.jsx)(j.a,{field:"tipoServicio",header:"Tipo Servicio",headerStyle:{width:"10vw"}})]})})})]})]})},Ne=t(74),ye=["component"];var Ce=function(e){var a=e.component,t=Object(Ne.a)(e,ye),i=Object(R.a)(["usuarioSession"]),c=Object(r.a)(i,1)[0];return Object(x.jsx)(s.b,Object(u.a)(Object(u.a)({},t),{},{render:function(e){return void 0!==c&&void 0!==c.usuarioSession?Object(x.jsx)(a,Object(u.a)({},e)):Object(x.jsx)(s.a,{to:"/login"})}}))},Se=["places"];var we=function(){return Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(L.g,{googleMapsApiKey:"AIzaSyCXz3x1Lid3xHcsa0muX5jy9NSS2thglDI",libraries:Se,children:Object(x.jsx)(o.a,{children:Object(x.jsxs)(s.d,{children:[Object(x.jsx)(s.b,{exact:!0,path:"/",children:Object(x.jsx)(xe,{})}),Object(x.jsx)(s.b,{path:"/reservacion",children:Object(x.jsx)(xe,{})}),Object(x.jsx)(s.b,{path:"/login",children:Object(x.jsx)(A,{})}),Object(x.jsx)(Ce,{path:"/despacho",component:function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)(ne,{}),Object(x.jsx)(je.a,{})]})}}),Object(x.jsx)(Ce,{path:"/entidad",component:function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)(ne,{}),Object(x.jsx)(de,{})]})}}),Object(x.jsx)(Ce,{path:"/clientes",component:function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)(ne,{}),Object(x.jsx)(S,{})]})}}),Object(x.jsx)(Ce,{path:"/clientesEmpresarial",component:function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)(ne,{}),Object(x.jsx)(M,{})]})}}),Object(x.jsx)(Ce,{path:"/general",component:function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)(ne,{}),Object(x.jsx)(I,{})]})}}),Object(x.jsx)(Ce,{path:"/pasajeros",component:function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)(ne,{}),Object(x.jsx)(J,{})]})}}),Object(x.jsx)(Ce,{path:"/generarServicio",component:function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)(ne,{}),Object(x.jsx)(je.a,{})]})}}),Object(x.jsx)(Ce,{path:"/serviciosEnEspera",component:function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)(ne,{}),Object(x.jsx)(Oe.a,{})]})}}),Object(x.jsx)(Ce,{path:"/serviciosEnCurso",component:function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)(ne,{}),Object(x.jsx)(me.a,{})]})}}),Object(x.jsx)(Ce,{path:"/servicioFinalizados",component:function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)(ne,{}),Object(x.jsx)(he,{})]})}}),Object(x.jsx)(Ce,{path:"/usuarios",component:function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)(ne,{}),Object(x.jsx)(W,{})]})}}),Object(x.jsx)(Ce,{path:"/vehiculos",component:function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)(ne,{}),Object(x.jsx)(ie,{})]})}}),Object(x.jsx)(Ce,{path:"/reporte",component:function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)(ne,{}),Object(x.jsx)(ge,{})]})}})]})})})})},Te=(t(89),t(90),t(91),t(92),t(93),t(95));n.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(Te.a,{children:Object(x.jsx)(we,{})})}),document.getElementById("root"))}},[[94,1,2]]]);